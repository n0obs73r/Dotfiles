ÿÿo"contentB¼¦/*_M:v5OVgf*/
try{
_.B("v5OVgf");

var Ygg=function(a,b,c,d,e,f){var h=_.Ska.prototype.K9;(a=_.kh(a,b,!0,c))&&a.forEach(function(k,l){_.Aca(e,d,k,function(n,q){h.call(q,1,l);_.Aca(q,2,k,f)})})},Zgg=function(a,b,c,d,e){for(;_.tca(b);){var f=b.H;if(1===f){if(d(b,a,1))continue}else if(2===f&&_.Eca(b,a,2,c,e))continue;_.qb(b)}},$gg=function(a,b,c){a.Cja(c,_.ih(b,c))},ahg=function(a){if(_.Za(a))throw Error("ca");},chg=function(a,b){a.removeAttribute("srcdoc");if(!(b instanceof _.gi))throw new bhg(typeof b,1);_.oc(a,b);for(b="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation".split(" ");0<
a.sandbox.length;)a.sandbox.remove(a.sandbox.item(0));for(var c=0;c<b.length;c++)a.sandbox.supports&&!a.sandbox.supports(b[c])||a.sandbox.add(b[c])},ehg=function(a){var b=_.mc(dhg).toString();if(/#/.test(b))throw Error("oa");var c=/\?/.test(b)?"&":"?";a.forEach(function(d,e){d=d instanceof Array?d:[d];for(var f=0;f<d.length;f++){var h=d[f];null!==h&&void 0!==h&&(b+=c+encodeURIComponent(e)+"="+encodeURIComponent(String(h)),c="&")}});return _.ii(b)},fhg=function(a,b,c){c=c?c.end+1:b.start;return new _.CT(c,
c+a-1<b.end?c+a-1:b.end)},ghg=function(a,b){var c,d;return _.Cg(function(e){if(1==e.H)return(c=_.sN(a))?e.Ve(0):_.vg(e,b,3);d=e.O;_.UOc(a,_.p(d,4));_.wg(e)})},hhg=function(a,b){return a+"|"+b},khg=function(a){var b=new ihg,c=new c1;a=_.t(c,1,a?2:1);return _.nh(b,1,jhg,a)},phg=function(a,b,c,d){var e=new d1;a=_.t(e,1,a);b=_.t(a,2,b);a=new lhg;c=_.t(a,1,_.oPc[c]);c=_.nh(b,3,mhg,c);d=nhg(new ohg,_.qPc[d]);return _.w(c,4,d)},shg=function(a){return qhg(rhg(9),a).Ec()},thg=function(a){return qhg(rhg(10),
a).Ec()},uhg=function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b].length;a=new Uint8Array(a);for(var c=b=0;c<arguments.length;c++)a.set(arguments[c],b),b+=arguments[c].length;return a},whg=function(a){var b=vhg.get(a);if(!b)throw new e1("Key manager for key type "+a+" has not been registered.");return b},xhg=function(a,b){var c,d,e;return _.Cg(function(f){if(1==f.H){if(b instanceof f1){if(c&&_.I(b,1)!=c)throw new e1("Key type is "+c+", but it is expected to be "+_.I(b,1)+" or undefined.");
c=_.I(b,1)}if(!c)throw new e1("Key type has to be specified.");d=whg(c);return _.vg(f,d.cU(a,b),2)}e=f.O;if(!(e instanceof a))throw new TypeError("Jq");return f.return(e)})},Fhg=function(a){return _.Cg(function(b){var c=_.I(a,1);whg(c);if(!yhg.get(c))throw new e1("New key operation is forbidden for key type: "+c+".");c=b.return;ahg(a);var d=_.Eaa(_.Uaa(_.I(a,2)));if(d instanceof Uint8Array){try{var e=_.Oh(d,zhg)}catch(f){throw new e1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");
}if(!_.qh(e,2))throw new e1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}else if(d instanceof Ahg)e=d;else throw new e1("Expected AesGcmKeyFormat-proto");d=e;Bhg(_.qh(d,2));e=new Chg;d=Dhg(_.qh(d,2));e=_.jka(e,3,d);e=_.fb(e,1,0,0);d=new f1;d=_.yh(d,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");e=_.zh(d.Ib(_.Ph(e,Ehg)),3,1);return c.call(b,e)})},Dhg=function(a){if(!Number.isInteger(a)||0>a)throw new Ghg("n must be a nonnegative integer");
a=new Uint8Array(a);crypto.getRandomValues(a);return a},Khg=function(){var a=Hhg(),b;return _.Cg(function(c){if(1==c.H)return _.vg(c,Ihg(a),2);b=c.O;return c.return(new Jhg(b))})},Ihg=function(a){var b,c,d,e;return _.Cg(function(f){if(1==f.H){var h=(new g1).qc(1);b=_.zh(h,4,_.Hd(a,3,0));h=Dhg(4);for(var k=0,l=0;l<h.length;l++)k+=(h[l]&255)<<8*l;c=Math.abs(k)%Math.pow(2,32);_.fb(b,3,c,0);return _.vg(f,Fhg(a),2)}d=f.O;_.w(b,1,d);e=new Lhg;_.oh(e,2,g1,b);_.fb(e,1,c,0);return f.return(e)})},Bhg=function(a){if(!Mhg.includes(a))throw new Ghg("unsupported AES key size: "+
a);},Nhg=function(a){if(null==a||!(a instanceof Uint8Array))throw new Ghg("input must be a non null Uint8Array");},Phg=function(a){var b;return _.Cg(function(c){if(1==c.H)return Nhg(a),Bhg(a.length),_.vg(c,self.crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:a.length},!1,["encrypt","decrypt"]),2);b=c.O;return c.return(new Ohg(b))})},Thg=function(a,b){var c,d,e;return _.Cg(function(f){switch(f.H){case 1:if(!_.dh(b,1))throw new h1("keyMetadata","Key metadata must include key format");c=b.H();
switch(c){case 0:case 1:return f.Ve(2);case 2:return f.Ve(3);default:throw new h1("keyMetadata","Unknown key format: "+c);}case 2:_.xg(f,5);if(!a)throw new e1("Serialized keyset has to be non-null.");var h=(new Qhg(a)).read();h=new Jhg(h);return _.vg(f,h.cU(Rhg),7);case 7:return f.return(f.O);case 5:throw d=_.zg(f),new Shg(d.message);case 6:f.Ve(0);break;case 3:_.xg(f,8);var k=Hhg();h=new f1;_.zh(_.yh(h,1,_.I(k,1)).Ib(a),3,1);var l=(new g1).qc(1);k=_.zh(l,4,_.Hd(k,3,0));k=_.fb(k,3,1,0);h=_.w(k,1,
h);k=new Lhg;_.oh(k,2,g1,h);_.fb(k,1,1,0);h=new Jhg(k);return _.vg(f,h.cU(Rhg),10);case 10:return f.return(f.O);case 8:throw e=_.zg(f),new Shg(e.message);case 9:f.Ve(0)}})},Whg=function(){var a;return _.Cg(function(b){if(1==b.H)return _.vg(b,Khg(),2);a=b.O;var c=b.return;var d=a.H;if(1!==Uhg(d).length)throw Error("Kq");d=_.u(Uhg(d)[0],f1,1);if(!d)throw Error("Lq");if("type.googleapis.com/google.crypto.tink.AesGcmKey"!==_.I(d,1))throw Error("Mq");d=Vhg(d);return c.call(b,d)})},Yhg=function(){var a;
return _.Cg(function(b){if(1==b.H)return _.vg(b,Khg(),2);a=b.O;var c=b.return;var d=a.H;if(d instanceof Lhg)d=_.Ph(d,Xhg);else throw new e1("unexpected type for keyset.");return c.call(b,d)})},Zhg=function(a,b,c){if(0>=c)throw new h1("ciphertextChunkSize","Ciphertext chunk size must be greater than zero");if(b>c)throw new h1("plaintextChunkSize","Plaintext chunk size cannot be greater than ciphertext chunk size");var d=c-b;if(a<d)throw new h1("ciphertextSize","Ciphertext is too short, must be at least "+
d+" bytes");var e=Math.floor(a/c);a%=c;if(0===a)return e*b;if(a<d)throw new h1("ciphertextSize","Final chunk in ciphertext is too short");if(a===d&&0!==e)throw new h1("ciphertextSize","Final chunk has no plaintext");return e*b+(a-d)},$hg=function(){var a=new Uint8Array(16);window.crypto.getRandomValues(a);return _.bb(a,4)+":"+_.vj().location.origin},aig=function(a){var b,c;return _.Cg(function(d){if(1==d.H)return b=(new TextEncoder).encode(a),_.vg(d,window.crypto.subtle.digest("SHA-256",b),2);c=d.O;
return d.return(_.bb(new Uint8Array(c),4))})},cig=function(a,b,c){var d=new big;a=_.t(d,1,a);b=Date.now()-b;b=_.t(a,2,b);if(!c)return _.t(b,3,0),b;c instanceof i1?_.t(b,3,c.H):_.t(b,3,17);return b},dig=function(a,b,c,d){var e=_.Lma(_.hi(a));var f=0<d.length?d:(d=_.vj().location.ancestorOrigins)?Array.from(d):[];f.unshift(_.vj().location.origin);d=_.xj("IFRAME");chg(d,_.Hla(a,{origin:f,authuser:c},{clientid:b}));_.Fs(d,!1);a=_.Bbe({destination:_.vj(),iframe:d,origin:e,pG:"channel",onMessage:function(){}});
document.body.appendChild(d);return{iframe:d,channel:a,Fh:!1}},eig=function(a){return new Promise(function(b,c){var d=setTimeout(function(){c(new i1("Failed to open iframe channel within timeout",26))},6E4);a.channel.O.then(function(){clearTimeout(d);b()}).catch(function(e){clearTimeout(d);c(new i1("Error opening channel",26,e instanceof Error?e:null))})})},fig=function(a){switch(a){case 401:return new i1("KACLS returned a status of 401 Unauthorized",29);default:return new i1("KACLS returned an error status: "+
a,30)}},gig=function(a,b,c){var d,e,f;return _.Cg(function(h){if(1==h.H)return _.vg(h,window.crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),2);if(3!=h.H)return d=h.O,e=(new TextEncoder).encode("ResourceKeyDigest:"+b+":"+c),_.vg(h,crypto.subtle.sign({name:"HMAC"},d,e),3);f=h.O;return h.return(new Uint8Array(f))})},hig=function(a,b){var c,d;return _.Cg(function(e){try{c=JSON.parse(_.TSb(b.split(".")[1]))}catch(f){throw new i1("Cannot decode authorization token",5,f);}d=c.resource_name;
if(void 0===d)throw new i1("Missing resource name in authorization token",5);return e.return(gig(a,d,c.perimeter_id||""))})},iig=function(){var a,b,c,d,e,f,h,k,l,n;return _.Cg(function(q){if(1==q.H)return a={aud:"test_kacl",iss:"google-cse-test-authz",email:"jane.doe@foo.bar",resource_name:"item1234",perimeter_id:"",role:"writer",kacls_url:"https://3lvj2179xj.execute-api.us-west-1.amazonaws.com/alpha"},b=new TextEncoder,c={alg:"RS256",typ:"JWT",kid:"test_authz"},d=_.sE(JSON.stringify(c),4),e=Math.round(Date.now()/
1E3)-1,a.iat=e,a.exp=Math.round(e+3600),f=d+"."+_.sE(JSON.stringify(a),4),h={alg:"RS256",d:"G6GPMtLzIluY3uWJj304LUcWYzBAqpF8Sv3v5fxPc_r6_SERS837kX1b69GHLJQZLYJIKQZh4YhA2sfMUe4Phlyu6C-hOc2HY6eY1Ek2X0Yq-6VKe0L4ipw-BjK5Pme-gHd_rsAF0i1B2lV6BZeeJ2eJvFSyKu-h6Hwejay8WgQnSv_JWhDjD-yX6y8icnQ1eiwTAhlUn4xkHLraYEe5ulFav6unSGgpUwPQ6K7NVIZbFjcBWZqFQ4m7C_CMSJptWswEYBw54SK6SvVJwWcC5Rv-73hGREPNAnReCov7FCIEjun9ZJmIiWQKFGgTOTcbh-BKfTXYLbYz_z_Hgd_NBHHNsFyUcSWe7uTv_UCaGWo3g73zluCA5YQIZcpOPvEujIpSE3e_p19fsT7ME4bRWpuvdGtmtSAJy7jjtjnz77m-VxCWvsCEFG3Dld1DHpnmAcKAAYnX49YCHnb9fR0fCafbtLgUnfSqYb7xP2OPgudj0avEe3hsodoCVB_UeA3guqD4PwKf_8M_EOwPkINk-CESn-ZLEtKM0a6qCGlpwlt6t4jHXurlRp17EVKjip_MvKd-V6vKuCP__Esmj5P_n5QaC7OlaXy_d2cSCoZtqjvFu2K3KRu2HKzzFbhZSIYSRacPTQ-oiE6pfA96-6d55ETW3lQqQhoOUudTo734Xmk",
dp:"XiXGIfFs1EFv5BGu9kMOlx1ZF3ZR-naFd-JVHkuFcrJ2nw87-ITfAwvmHsnFm0YCx6TuWfbB2cOBfLN-l7DcrDBM34a_1x81X6C4ZBF3eJ23Sp39RVFg_EWdd-c_8ArAcn3jk0y93jv6_C0KuwF8U62QCDO75zV0bKSIkul0WonalW92-bgHDC9eDA5HzplRnQ7YbPFQErcAi-SPvLtNQQ2D5aA9RZAGk6gDXFrD94odVLlyXGmvKbu7ms2sC_YFhFfbwSs8Tm6Jq3zP68vcZItG34i4a5mSb3tqTJm12SvuNY_XTb2iY3_geeGd8kkAJB04V2jwuzhcU3jN01wgyQ",dq:"PBGcT8hmJIb_MaIsyVT8_C5pEkj4AqGrwVgtkMOXGAZ-XeN3nhxT3-Ow2cr-zfVLruhATS4YNCEuVjDj2bZOf71fB1PGVlxreBjSnZ4ajK3V21Yv3sN0mW4olSoGVxjGwAuD4IHOZgRYxQvZRsU8_RMO0ddfwayw6sCPcTDLXvD15WUxNOPoNFlxiMRdSc2WkogaouwYG235GS7kkwdLIR83EEI0OZnLV3PHmkcbB7YZHn-DglVbI_vQCK3QTw7Kd7B5Dl9QK9gsaAc1qpMgIt0AWwOuQDVhmeVGZym888MHU7j9KH-BJq_V9fp2Ur5arNXGoDSR61XHNiWnt_CJ_w",
e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"jxmY-gE7sdijGpm8mCUirJEfeSj5DCGEquhHNTgYr7nnDwWaKOkeCnpHNon32XeqVqJMWqQk23URh6pJptqx7lfswjfshv1Sy3j-u7bxVT_2U4j4MTqICbnqgSSYRgQA71IGf7Ss2Uqjl2XGJMp_Knyej0wqb1yj0xcNhQH5E4rQaYA25q_hwJzRx7ipZbgpeqfAHgcyPRhCS8fdL9skJEYje921k0CzOIPl1SB6veRrMJq1vO9g31GCGjCJQ2kVav5f_mTOQHHXtz6dtNx42zB7ZFWwUzo3ngiwTWZ3nz333b3Vgj_EgI2EoGLgZYVHqg89lHwJqTNy8hZekWtOwYQUVCiWXtr1g140703_F5QXEvIR7T31iX-ppU-PYeVPMt3Ba8qCpsJRz08ScjDsxKiXezKZK83cGDrev27pn6NNu054aNqcBRjB2_t06hdrtv1ny6DfsjnQcI2sZTV8pNBlBjQuQpeUqWxk4NI60a4lebvwvwVpPO9fqI-6lrqoA2uZ7ljvrJ_RtB7uDkO8KvPbee98eB96Pyl030mne1tBsArAmBS5fn2slywJW1OYtxk3n5BWMPHagy3nMCVqplU9MwmLaWb_y_OcFD4w1sdW8ODb9HATBhF1zz9ULxTHi0FR8iM2irqWR0etGU0Mb748nNgtlmiBF383SnoNX88",
p:"yCdugSE_u9KxPsT9N7KkqUbL-seqox6NJSTa4E6wwLpco9hDfwXeCMbquLSsioOs1jfWvAmhrs-N3a1_hic3aE2a7xSuV3iCZxu6g-fyVOXD_r-U7w5cYBZFMDaKwsK-EKUTWdCXbkGhrgkkcs1LyZJt4clf3ZkJ9TITz0ldBILSAzj2nhdO_CiTx8xpcKidTiPWaOYsZUXb3dyJf59aabz1RZmyd-jqNwNnqr98WC1IacE6SZgTOmmPZYxxYqYM9TlXvp6LHNkk_xDLfwweIbrRxq36G0WIeaAITfY83K30oqaLNi1tGrvttjDx21Xpox5BufAjxtdt384NLBI0WQ",q:"twbragsXfmCFmHH0Zs6G9W-MaoX47OrUuXrZ782hCpNyUr2d3_ukySN3AHx0UVDMYiq3_4E8hjkux331lL24Ze1YyQjEjRhimi6Rr4b7hbMelxWd0eI2sDTGCodR3QV8KNO2NTjRqdajVfOgMkGf7kpWrle8mX5SqiUKk_HRyxZx-kzMgETm2qjE1nLtIygyj6QtmMtq1qpS5jVRa6z_U5eAsKQD5sqzwj3zVkMed4iDjEXFAwuZIpYt-KqjhRzzr-koM_4H3nzzO0d93GwmZUys3WCluNhyiUOkgK-gkFjfjV0eqlNPTiX5nkonLAJ-FIAnfZeY4UcAfLITd4LQZw",
qi:"JOudX6P4PCyZ8XddBgE8vCkHVFbW-s6Qt7nJjhDyzbcw1GIFCUXH_v6oBWt_E6SA_kPqbY3MJ2CZ3KvY2Clp1eF9Zm_iwwQM8DexTVz9YT5PiqtDuCkp6Iyb5XpwTVhVHJnPxvoPTUE_xCrqw1zojqAI-V88LGX5TsMcyeTrN-IIHQ6-42I6d9iTfpC4ZjeQUadj7SwtarASf2snE9PiESArrVU8SgURKXKZStMp3txLLxOhMfmX7ctu55KxGBhoN5Lp360vxUXWGuBLGpcYyPJBLoPKbKODaNmHHBkPyUxMzZ7qtgysF9joR9osKIouT0V8uD-scA-pRE7hEOfIMQ"},_.vg(q,window.crypto.subtle.importKey("jwk",h,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=q.H)return k=q.O,_.vg(q,crypto.subtle.sign("RSASSA-PKCS1-v1_5",
k,b.encode(f)),3);l=q.O;n=f+"."+_.bb(new Uint8Array(l),4);return q.return(n)})},jig=function(a,b){return new Promise(function(c){var d=function(e){e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})},kig=function(a){var b=_.xj("IFRAME");if(!b.sandbox)throw Error("Qq");b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==dhg){var c=
_.vc('<!DOCTYPE html><body><input type="hidden" id="nonce" value="'+_.wc(a)+'" /><script nonce="'+_.wc(_.mma())+'">/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar f=function(){for(var b=Number(this),a=[],c=b;c<arguments.length;c++)a[c-b]=arguments[c];return a},h=this||self,k=function(b){return b};/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nvar l;var m={},n=function(b,a){this.g=a===m?b:""};n.prototype.toString=function(){return this.g.toString()};var p=function(b){return b instanceof n&&b.constructor===n?b.g:"type_error:SafeScript"},q=function(b){if(void 0===l){var a=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{a=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=a}b=(a=l)?a.createScript(b):b;return new n(b,m)};function r(b,a){b.textContent=p(a);var c,d;(c=(a=null==(d=(c=(b.ownerDocument&&b.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?a.nonce||a.getAttribute("nonce")||"":"")&&b.setAttribute("nonce",c)};var t=function(b){var a=f.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:a,callback:function(g,u){c=g;d=u}};a=document.createElement("script");a.async=!1;a.setAttribute("data-index",e);e=q(\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(b))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()");r(a,e);e=function(g){c=!1;d=g.error||g};window.addEventListener("error",e);document.head.appendChild(a);window.removeEventListener("error",e);document.head.removeChild(a);if(!c)throw d;return d};var v=document.getElementById("nonce"),w=v?v.value:(new URL(location.href)).searchParams.get("nonce");function x(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(b){return!0}}\n(function(){if(!x())throw"sandboxing error";var b=new MessageChannel;b.port1.onmessage=function(a){try{var c=t.apply(null,[q("(function("+a.data.paramNames.join(", ")+") {\\n"+a.data.code+"\\n}).apply(null, arguments)")].concat(a.data.values));a.ports[0].postMessage({result:c})}catch(d){a.ports[0].postMessage({error:d.toString()})}};window.parent.postMessage(w,"*",[b.port2])})();\n\x3c/script></body>');
a=_.ii("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=_.kc(c)}else a=ehg(new Map([["nonce",a]]));_.oc(b,a);b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b},lig=function(){return new Promise(function(a){setTimeout(a,500)})},mig=function(a){var b=a.Ah.PJ();return _.uca(a.Ah,b)},nig=function(){_.Mh.apply(this,arguments)},Sig,c1,Yig,Zig,$ig;_.K(nig,_.Mh);
var oig=_.rb(function(a,b,c){if(2!==a.Pi)return!1;_.t(b,c,mig(a));return!0},$gg),pig=_.rb(function(a,b,c){if(2!==a.Pi)return!1;_.jka(b,c,mig(a));return!0},$gg),qig=_.rb(function(a,b,c,d,e){if(2!==a.Pi)a=!1;else{var f=new nig(void 0);_.Dca(a,f,Zgg,d,_.iJc,e);_.kh(b,c,!1,d).set(_.Hd(f,1,0),_.u(f,d,2)||new d);a=!0}return a},function(a,b,c,d,e){Ygg(b,c,d,c,a,e)}),rig=function(a){_.N.call(this,a)};_.K(rig,_.N);rig.prototype.getName=function(){return _.p(this,2)};
rig.prototype.Yc=function(a){return _.t(this,2,a)};var sig=function(a){_.N.call(this,a)};_.K(sig,_.N);var tig=[rig,1,_.Th,2,_.Th,3,_.Th,5,_.Xh,7,qig,[sig,1,_.Th]],uig=function(a){_.N.call(this,a)};_.K(uig,_.N);var vig=[1],wig=[uig,1,_.Wh,tig,vig],xig=[5],j1=function(a){_.N.call(this,a,-1,xig)};_.K(j1,_.N);var yig=function(a){_.N.call(this,a)};_.K(yig,_.N);yig.prototype.dz=function(){return _.z(this,1)};yig.prototype.dD=function(){return _.p(this,5)};var zig=function(a){_.N.call(this,a)};_.K(zig,_.N);
zig.prototype.dz=function(){return _.z(this,1)};zig.prototype.dD=function(){return _.p(this,4)};var Aig=function(a,b){return _.t(a,1,b)},Big=function(a,b){_.t(a,3,b)},Cig=function(a){_.N.call(this,a)};_.K(Cig,_.N);Cig.prototype.dz=function(){return _.z(this,1)};Cig.prototype.dD=function(){return _.p(this,4)};
var Dig=function(a,b){return _.t(a,1,b)},Eig=function(a,b){_.t(a,3,b)},Fig=function(a,b){return _.t(a,23,b)},Gig=function(a,b){return _.t(a,10,b)},Hig=function(a){var b=_.u(_.oN(a),zig,13);b||(b=new zig,a=_.oN(a),_.w(a,13,b));return b},k1=function(a){var b=_.u(_.oN(a),Cig,14);b||(b=new Cig,a=_.oN(a),_.w(a,14,b));return b},l1=function(a){_.N.call(this,a)};_.K(l1,_.N);l1.prototype.getTitle=function(){return _.p(this,1)};l1.prototype.setTitle=function(a){return _.t(this,1,a)};
l1.prototype.getMimeType=function(){return _.p(this,2)};l1.prototype.vj=function(){return _.p(this,6)};
var Iig=function(a,b){return _.t(a,2,b)},Jig=function(a,b){return _.t(a,3,b)},Kig=function(a,b){return _.t(a,4,b)},Lig=function(a){return _.u(a,_.jMc,5)},Mig=function(a,b){return _.w(a,5,b)},Nig=function(a,b){return _.t(a,6,b)},Oig=function(a,b){return _.w(a,1,b)},m1=function(a,b){return{opa:a,Ebb:Pig,bDa:b,ZQb:void 0,DMa:void 0,aRb:void 0}},Pig=_.rb(function(a,b,c,d){if(2!==a.Pi)return!1;_.Dca(a,_.sb(b,c.Mb,c.fieldIndex,!0),d);return!0},function(a,b,c,d){_.Aca(a,c.fieldIndex,b.getExtension(c),d)}),
Qig=_.rb(function(a,b,c){if(0!==a.Pi)return!1;a=a.AA();_.fb(b,c,a,0);return!0},function(a,b,c){a.Yu(c,_.p(b,c))}),Rig={bhc:0,Nec:1,Oec:2,0:"HTML_FORMATTED_CONTENT",1:"EMBEDDED_INTERNAL_CONTENT",2:"EMBEDDED_TRUSTED_EXTERNAL_CONTENT"},bhg=function(a,b){var c=Error.call(this,a+" cannot be used with intent "+Rig[b]);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.type=a;this.intent=b;this.name="TypeCannotBeUsedWithIntentError"};_.K(bhg,Error);
Sig=function(){var a=[],b;for(b=0;10>b;b++)a[b]=_.uib[0|10*Math.random()];return a.join("")};_.zM=function(a){_.N.call(this,a)};_.K(_.zM,_.N);_.zM.prototype.yc=function(){return _.p(this,1)};var Tig=function(a,b){return _.t(a,1,b)};_.zM.prototype.eh=function(){return _.p(this,2)};_.zM.prototype.H=function(){return _.u(this,_.Xl,3)};var Uig=function(a,b){return _.w(a,3,b)};_.zM.prototype.te=function(){return _.u(this,_.og,4)};var Vig=function(a,b){return _.w(a,4,b)};
_.zM.prototype.tk=function(){return _.p(this,5)};_.TL=function(a,b){this.H=a;this.metadata=b};c1=function(a){_.N.call(this,a)};_.K(c1,_.N);c1.prototype.qf=function(){return _.p(this,1)};var jhg=[1],ihg=function(a){_.N.call(this,a)};_.K(ihg,_.N);var lhg=function(a){_.N.call(this,a)};_.K(lhg,_.N);lhg.prototype.H=function(){return _.p(this,1)};var Wig=[lhg,1,_.Xh],ohg=function(a){_.N.call(this,a)};_.K(ohg,_.N);ohg.prototype.H=function(){return _.p(this,1)};
var nhg=function(a,b){return _.t(a,1,b)},Xig=[ohg,1,_.Xh],mhg=[3],d1=function(a){_.N.call(this,a)};_.K(d1,_.N);_.g=d1.prototype;_.g.psb=function(){return _.p(this,1)};_.g.Kpa=function(){return _.p(this,2)};_.g.pea=function(){return _.wh(this,lhg,3,mhg)};_.g.VAa=function(){return _.u(this,ohg,4)};_.g.qsb=function(){return _.ih(this,5)};Yig=[d1,1,_.Qh,2,_.Th,3,_.Wh,Wig,mhg,4,_.Vh,Xig,5,oig];
Zig=function(a,b,c,d,e,f,h){var k=_.dm(a),l=new _.PPc(_.rh(k,59,2E3),_.rh(k,60,2E4),_.rh(k,61,6));d=new _.sQc(f,e,c,d,_.rh(k,32,1073741824),_.rh(k,21,1E3));a=new _.NPc(h,_.SK(_.TK(a)));h={};h[1]=_.FQc(b,c);h[2]=_.GQc(b,k,l,a,c);h[4]=_.IQc(b,k,l,a,c);d=_.EQc(d,a,c,_.ph(k,46,1));return h[5]=d,h[7]=_.HQc(b,k,l,a,c,"xd4_batch"),h[8]=_.HQc(b,k,l,a,c,"xd4_batch_one",1),h};_.aSc=function(a,b){this.id=a;this.revisionId=b};
$ig=function(a,b,c,d){_.ik.call(this,"Ue");this.requestId=a;this.H=b;this.response=c;this.error=d};_.K($ig,_.ik);
var bjg=function(a){_.N.call(this,a,-1,ajg)};_.K(bjg,_.N);var ajg=[1];
var cjg=function(a){_.N.call(this,a)};_.K(cjg,_.N);var djg=function(){var a=new cjg;return _.t(a,1,0)},ejg=function(a,b){return _.t(a,3,b)},fjg=function(a,b){return _.t(a,4,b)},gjg=function(a,b){return _.w(a,6,b)},hjg=function(a,b){return _.t(a,7,b)};
var ijg=function(a){_.N.call(this,a,1)};_.K(ijg,_.N);
var jjg=function(a){_.N.call(this,a)};_.K(jjg,_.N);jjg.prototype.getEmail=function(){return _.p(this,2)};jjg.prototype.fq=function(){return _.dh(this,2)};var kjg=[1];
var ljg=function(a){_.N.call(this,a)};_.K(ljg,_.N);ljg.prototype.JG=function(){return _.p(this,1)};var mjg=function(){var a=new ljg;return _.t(a,1,1)};ljg.prototype.getAuthToken=function(){return _.p(this,2)};var njg=function(a,b){return _.t(a,2,b)};
var ojg=function(a){_.N.call(this,a)};_.K(ojg,_.N);var pjg=_.tb(346438255,ojg);
var n1=function(a){_.N.call(this,a)};_.K(n1,_.N);var qjg=function(a,b){return _.t(a,1,b)},rjg=function(a,b){return _.t(a,2,b)};n1.prototype.vj=function(){return _.p(this,3)};var sjg=function(a,b){return _.t(a,3,b)};
var tjg=function(a){_.N.call(this,a)};_.K(tjg,_.N);tjg.prototype.getMetadata=function(){return _.u(this,d1,1)};tjg.prototype.zo=function(){return _.eh(this,1)};
var ujg=function(a){_.N.call(this,a)};_.K(ujg,_.N);
var wjg=function(a){_.N.call(this,a,-1,vjg)};_.K(wjg,_.N);var vjg=[5];
var xjg=function(a){_.N.call(this,a)};_.K(xjg,_.N);var yjg=function(a){var b=new xjg;return _.w(b,1,a)},zjg=function(a,b){return _.t(a,2,b)};
var Ajg=function(a){_.N.call(this,a)};_.K(Ajg,_.N);var Bjg=function(a){var b=new Ajg;return _.w(b,1,a)},Cjg=function(a,b){return _.t(a,2,b)};Ajg.prototype.getMetadata=function(){return _.u(this,d1,3)};var Djg=function(a,b){return _.w(a,3,b)};Ajg.prototype.zo=function(){return _.eh(this,3)};
var Ejg=function(a){_.N.call(this,a)};_.K(Ejg,_.N);var Fjg=function(a,b){return _.w(a,1,b)},Gjg=function(a,b){return _.w(a,2,b)},Hjg=function(a,b){return _.w(a,3,b)};
var Ijg=function(a){_.N.call(this,a)};_.K(Ijg,_.N);
var Jjg=function(a){_.N.call(this,a)};_.K(Jjg,_.N);
var Kjg=function(a){_.N.call(this,a)};_.K(Kjg,_.N);var Ljg=function(a){var b=new Kjg;return _.t(b,1,a)};
var Mjg=function(a){_.N.call(this,a)};_.K(Mjg,_.N);
var Njg=function(a){_.N.call(this,a)};_.K(Njg,_.N);var Ojg=function(a){var b=new Njg;return _.t(b,1,a)};
var Pjg=function(a){_.N.call(this,a)};_.K(Pjg,_.N);Pjg.prototype.getError=function(){return _.Hd(this,1,0)};Pjg.prototype.We=function(a){return _.t(this,1,a)};Pjg.prototype.Xn=function(){return _.dh(this,1)};var Qjg=[Pjg,1,_.Xh,2,_.Th,3,_.Th];
var Rjg=function(a){_.N.call(this,a,1)};_.K(Rjg,_.N);var Sjg={},Tjg=[Rjg,Sjg];
var o1=function(a){_.N.call(this,a,1)};_.K(o1,_.N);var p1={},Ujg=[o1,p1];
var Vjg=function(a){_.N.call(this,a,4)};_.K(Vjg,_.N);Vjg.prototype.getError=function(){return _.u(this,Pjg,2)};Vjg.prototype.We=function(a){return _.w(this,2,a)};Vjg.prototype.Xn=function(){return _.eh(this,2)};var Wjg={},Xjg=[Vjg,Wjg,2,_.Vh,Qjg,3,_.Vh,Tjg];
var Yjg=function(a){_.N.call(this,a)};_.K(Yjg,_.N);var Zjg=_.tb(347854608,Yjg);p1[347854608]=m1(Zjg,[Yjg,1,_.Th,2,_.Th,3,_.Th,4,_.Th]);
var $jg=function(a){_.N.call(this,a)};_.K($jg,_.N);var akg=_.tb(347854609,$jg);Wjg[347854609]=m1(akg,[$jg,1,oig]);
var bkg=function(a){_.N.call(this,a)};_.K(bkg,_.N);var ckg=_.tb(347854610,bkg);p1[347854610]=m1(ckg,[bkg,1,oig,2,_.Th,3,_.Th,4,_.Th]);
var dkg=function(a){_.N.call(this,a)};_.K(dkg,_.N);var ekg=_.tb(347854611,dkg);Wjg[347854611]=m1(ekg,[dkg,1,_.Th]);
var fkg=function(a){_.N.call(this,a)};_.K(fkg,_.N);fkg.prototype.qf=function(){return _.p(this,1)};fkg.prototype.H=function(a){return _.w(this,3,a)};var gkg=_.tb(346636283,fkg);p1[346636283]=m1(gkg,[fkg,1,_.Xh,2,_.Th,3,_.Vh,wig,4,_.Th]);
var hkg=function(a){_.N.call(this,a)};_.K(hkg,_.N);hkg.prototype.getAuthToken=function(){return _.p(this,1)};var ikg=_.tb(346636284,hkg);Wjg[346636284]=m1(ikg,[hkg,1,_.Th]);
var jkg=function(a){_.N.call(this,a)};_.K(jkg,_.N);var kkg=function(a){var b=new jkg;return _.t(b,1,a)},lkg=function(a,b){return _.t(a,2,b)},mkg=function(a,b){return _.t(a,3,b)},nkg=[jkg,1,_.Xh,2,_.Qh,3,_.Qh,4,_.Xh,5,_.Th];
var okg=function(a){_.N.call(this,a)};_.K(okg,_.N);var pkg=[okg];
var qkg=function(a){_.N.call(this,a)};_.K(qkg,_.N);var rkg=function(a,b){_.t(a,5,b)},q1=function(a,b){_.t(a,7,b)},skg=[qkg,1,_.Qh,2,_.mL,3,_.Qh,4,_.mL,5,_.Th,6,_.Qh,7,_.Xh,8,_.Xh];
var tkg=function(a){_.N.call(this,a)};_.K(tkg,_.N);tkg.prototype.getStatus=function(){return _.p(this,1)};tkg.prototype.qc=function(a){return _.t(this,1,a)};var ukg=[tkg,1,_.Xh,2,_.Qh,3,_.Qh,4,_.Qh,5,_.Xh];
var vkg=function(a){_.N.call(this,a)};_.K(vkg,_.N);var wkg=[vkg,1,_.Qh,2,_.Qh,3,_.Vh,ukg,4,_.Vh,ukg];
var xkg=function(a){_.N.call(this,a)};_.K(xkg,_.N);var ykg=[4,5],zkg=[xkg,1,_.Rh,2,_.Th,3,_.Qh,4,_.Wh,pkg,ykg,5,_.Wh,skg,ykg,6,_.Vh,wkg,7,_.Rh];
var big=function(a){_.N.call(this,a)};_.K(big,_.N);big.prototype.getType=function(){return _.p(this,1)};var Akg=[big,1,_.Xh,2,_.Qh,3,_.Xh];
var Bkg=function(a){_.N.call(this,a)};_.K(Bkg,_.N);var Ckg=function(a){var b=new Bkg;return _.t(b,1,a)};Bkg.prototype.vj=function(){return _.p(this,7)};var Dkg=[Bkg,1,_.Xh,2,_.Th,3,_.Qh,4,_.mL,5,_.Xh,6,_.Th,7,_.Th];
var Ekg=function(a){_.N.call(this,a)};_.K(Ekg,_.N);var Fkg=[1,2,3,4],Gkg=_.tb(398321895,Ekg);p1[398321895]=m1(Gkg,[Ekg,1,_.Wh,Dkg,Fkg,2,_.Wh,zkg,Fkg,3,_.Wh,nkg,Fkg,4,_.Wh,Akg,Fkg]);
var Hkg=function(a){_.N.call(this,a)};_.K(Hkg,_.N);Hkg.prototype.H=function(a){return _.w(this,2,a)};var Ikg=_.tb(393450967,Hkg);p1[393450967]=m1(Ikg,[Hkg,1,_.Th,2,_.Vh,wig,3,_.Th]);
var Jkg=function(a){_.N.call(this,a)};_.K(Jkg,_.N);var Kkg=_.tb(393450968,Jkg);Wjg[393450968]=m1(Kkg,[Jkg,1,_.Th,2,_.Th,3,_.Th,4,_.Th,5,_.Xh]);var Lkg=_.tb(394593106,qkg);Sjg[394593106]=m1(Lkg,skg);
var Mkg=function(a){_.N.call(this,a)};_.K(Mkg,_.N);Mkg.prototype.Ej=function(){return _.p(this,1)};var Nkg=_.tb(393450969,Mkg);p1[393450969]=m1(Nkg,[Mkg,1,_.Th,2,_.Th,3,_.Th,4,_.Th,5,_.Th,6,_.Th]);
var Okg=function(a){_.N.call(this,a)};_.K(Okg,_.N);var Pkg=_.tb(393450970,Okg);Wjg[393450970]=m1(Pkg,[Okg,1,_.Th]);
var Qkg=function(a){_.N.call(this,a)};_.K(Qkg,_.N);var Rkg=_.tb(393450971,Qkg);p1[393450971]=m1(Rkg,[Qkg]);
var Skg=function(a){_.N.call(this,a)};_.K(Skg,_.N);Skg.prototype.getToken=function(){return _.p(this,1)};Skg.prototype.setToken=function(a){return _.t(this,1,a)};var Tkg=_.tb(393450972,Skg);Wjg[393450972]=m1(Tkg,[Skg,1,_.Th]);var Ukg=_.tb(394593107,vkg);Sjg[394593107]=m1(Ukg,wkg);
var Vkg=function(a){_.N.call(this,a)};_.K(Vkg,_.N);Vkg.prototype.getToken=function(){return _.p(this,1)};Vkg.prototype.setToken=function(a){return _.t(this,1,a)};var Wkg=_.tb(393450973,Vkg);p1[393450973]=m1(Wkg,[Vkg,1,_.Th,2,_.mL]);
var Xkg=function(a){_.N.call(this,a)};_.K(Xkg,_.N);Wjg[391195174]=m1(_.tb(391195174,Xkg),[Xkg]);var Ykg=_.tb(394593108,vkg);Sjg[394593108]=m1(Ykg,wkg);
var Zkg=function(a){_.N.call(this,a)};_.K(Zkg,_.N);Zkg.prototype.qf=function(){return _.p(this,1)};var $kg=function(a,b){return _.t(a,1,b)},alg=function(a,b){return _.t(a,2,b)};
var blg=function(a){_.N.call(this,a)};_.K(blg,_.N);blg.prototype.getAuthToken=function(){return _.fh(this,1,clg)};blg.prototype.getError=function(){return _.fh(this,2,clg)};blg.prototype.We=function(a){return _.mh(this,2,clg,a)};blg.prototype.Xn=function(){return 2===_.hb(this,clg)};var clg=[1,2];
var dlg=function(a){_.N.call(this,a)};_.K(dlg,_.N);
var elg=function(a){_.N.call(this,a)};_.K(elg,_.N);
var flg=function(a){_.N.call(this,a)};_.K(flg,_.N);var rhg=function(a){var b=new flg;return _.t(b,1,a)},qhg=function(a,b){return _.t(a,2,b)};flg.prototype.Hj=function(){return _.I(this,3)};flg.prototype.getError=function(){return _.I(this,7)};flg.prototype.We=function(a){return _.t(this,7,a)};flg.prototype.Xn=function(){return _.dh(this,7)};
var glg=function(a,b,c){this.H=a;this.V=b;this.O=c};
glg.prototype.get=function(a){var b,c,d,e,f=this,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:h=_.sN(f.H);k=_.p(f.H,4);if(h&&k){r.Ve(2);break}return _.vg(r,f.O,3);case 3:l=r.O,h=_.p(l,4),k=_.p(l,3);case 2:var v=a.start%3,x=a.start-v,y=4/3*x;x=a.end-x+1;b=y;c=y+4/3*(x+(0<x%3?3-x%3:0))-1;d=v;e=v+(a.end-a.start+1);_.UOc(f.H,h);v=Oig(new _.oM,f.H);n=_.t(v,2,b);c<4/3*k-1&&_.t(n,3,c);return _.vg(r,hlg(f.V,n,f.O),4);case 4:return q=r.O,r.return(q.subarray(d,e))}})};
var r1=new Uint8Array([153,94,204,94]);
var i1=function(a,b,c){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.H=b;this.O=void 0===c?null:c};_.K(i1,Error);i1.prototype.getMessage=function(){return this.message};i1.prototype.name="CseError";
var h1=function(a,b){a=Error.call(this,b);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(h1,Error);h1.prototype.name="ArgumentError";
var s1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(s1,Error);s1.prototype.name="InvalidOperationError";
var ilg=function(a){this.V=a;this.O=r1.length};ilg.prototype.H=function(a){var b=this,c,d,e;return _.Cg(function(f){if(1==f.H)return _.xg(f,2),c=Math.min(a.length,b.O),_.vg(f,jlg(b.V,a.subarray(c,a.length)),4);if(2!=f.H)return d=f.O,b.O-=c,f.return(d);e=_.zg(f);if(e instanceof h1)throw new i1(e.message,6,e);if(e instanceof s1)throw new i1(e.message,8,e);throw new i1(e.message,7,e);})};
var Shg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(Shg,Error);Shg.prototype.name="CseCrypterError";
/*

 Copyright 2020 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var Ghg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,Ghg.prototype)};_.K(Ghg,Error);Ghg.prototype.name="InvalidArgumentsException";
var e1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,e1.prototype)};_.K(e1,Error);e1.prototype.name="SecurityException";
var Chg=function(a){_.N.call(this,a)};_.K(Chg,_.N);Chg.prototype.Zj=function(){return _.qh(this,1)};var klg=function(a){ahg(a);return _.Eaa(_.Uaa(_.I(a,3)))},Ehg=[Chg,1,Qig,3,pig];
var Ahg=function(a){_.N.call(this,a)};_.K(Ahg,_.N);Ahg.prototype.Zj=function(){return _.qh(this,3)};var zhg=[Ahg,2,Qig,3,Qig];
var llg=function(a){_.N.call(this,a)};_.K(llg,_.N);llg.prototype.Za=function(){return _.gka(this)};llg.prototype.Ib=function(a){return _.jka(this,2,a)};
var f1=function(a){_.N.call(this,a)};_.K(f1,_.N);f1.prototype.Za=function(){return _.gka(this)};var Vhg=function(a){ahg(a);return _.Eaa(_.Uaa(_.I(a,2)))};f1.prototype.Ib=function(a){return _.jka(this,2,a)};var mlg=[f1,1,_.Uh,2,pig,3,_.Yh];
var Lhg=function(a){_.N.call(this,a,-1,nlg)};_.K(Lhg,_.N);var Uhg=function(a){return _.kb(a,g1,2)},g1=function(a){_.N.call(this,a)};_.K(g1,_.N);g1.prototype.getStatus=function(){return _.Hd(this,2,0)};g1.prototype.qc=function(a){return _.zh(this,2,a)};var nlg=[2],Xhg=[Lhg,1,Qig,2,_.Zka,[g1,1,_.Vh,mlg,2,_.Yh,3,Qig,4,_.Yh]];
var olg=function(a,b){b=[b];var c=b.concat;if(!Number.isInteger(a)||0>a||a>=Math.pow(2,32))throw new Ghg("Number has to be unsigned 32-bit integer.");for(var d=Array(4),e=0;4>e;e++)d[e]=255&a>>8*(4-e-1);b=c.call(b,d);return new Uint8Array(b)},plg=new Uint8Array(0);
var qlg=function(a,b,c){this.O=a;this.identifier=b;this.H=c};qlg.prototype.cU=function(){return this.O};qlg.prototype.Ox=function(){return this.identifier};var rlg=function(a){this.O=a;this.primary=null;this.H=new Map};rlg.prototype.hea=function(){return this.O};var tlg=function(a,b){return(a=slg(a,b))?a:[]},slg=function(a,b){b instanceof Uint8Array&&(b=[].concat(_.Oc(b)).toString());return a.H.get(b)};
var vhg=new Map,yhg=new Map,ulg=new Map;
var Jhg=function(a){if(!a||!Uhg(a)||1>Uhg(a).length)throw new e1("Keyset should be non null and must contain at least one key.");for(var b=!1,c=Uhg(a).length,d=0;d<c;d++){var e=Uhg(a)[d];if(!e)throw new e1("Key should be non null.");if(!_.u(e,f1,1))throw new e1("Key data are missing for key "+_.qh(e,3)+".");if(0===_.Hd(e,4,0))throw new e1("Key "+_.qh(e,3)+" has unknown output prefix type.");if(0===e.getStatus())throw new e1("Key "+_.qh(e,3)+" has unknown status.");if(_.qh(a,1)===_.qh(e,3)&&1===e.getStatus()){if(b)throw new e1("Primary key has to be unique.");
b=!0}}if(!b)throw new e1("Primary key has to be in the keyset and has to be enabled.");this.H=a};Jhg.prototype.cU=function(a,b){var c=this,d;return _.Cg(function(e){if(1==e.H){if(!a)throw new Ghg("primitive type must be non-null");return _.vg(e,vlg(c,a,b),2)}d=e.O;var f=e.return;if(!d)throw new e1("primitive set cannot be null.");var h=d.hea(),k=ulg.get(h);if(!k)throw new e1("no primitive wrapper found for type "+h);k=k.wrap(d);if(!(k instanceof h))throw new TypeError("Jq");return f.call(e,k)})};
var vlg=function(a,b,c){var d,e,f,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:d=new rlg(b),e=Uhg(a.H),f=e.length,h=0;case 2:if(!(h<f)){r.Ve(4);break}k=e[h];if(1!==k.getStatus()){r.Ve(3);break}l=_.u(k,f1,1);if(!l)throw new e1("Key data has to be non null.");n=void 0;return c&&wlg()===_.I(l,1)?_.vg(r,c.cU(b,l),9):_.vg(r,xhg(b,l),8);case 8:n=r.O;r.Ve(7);break;case 9:n=r.O;case 7:var v=n;if(!v)throw new e1("Primitive has to be non null.");if(!k)throw new e1("Key has to be non null.");a:switch(_.Hd(k,
4,0)){case 2:case 4:var x=olg(_.qh(k,3),0);break a;case 1:x=olg(_.qh(k,3),1);break a;case 3:x=plg;break a;default:throw new e1("Unsupported key prefix type.");}v=new qlg(v,x,k.getStatus());x=v.Ox();x=[].concat(_.Oc(x)).toString();var y=slg(d,x);y?(y.push(v),d.H.set(x,y)):d.H.set(x,[v]);q=v;if(_.qh(k,3)===_.qh(a.H,1)){if(!q)throw new e1("Primary cannot be set to null.");if(1!=q.H)throw new e1("Primary has to be enabled.");v=tlg(d,q.Ox());x=!1;y=v.length;for(var A=0;A<y;A++)if(1===v[A].H){x=!0;break}if(!x)throw new e1("Primary cannot be set to an entry which is not held by this primitive set.");
d.primary=q}case 3:h++;r.Ve(2);break;case 4:return r.return(d)}})};Jhg.prototype.write=function(){return _.Cg(function(){throw new e1("KeysetHandle -- write: Not implemented yet.");})};
var Rhg=function(){};
var Mhg=[16,32];
var Ohg=function(a){this.key=a};_.K(Ohg,Rhg);Ohg.prototype.encrypt=function(a,b){var c=this,d,e,f;return _.Cg(function(h){if(1==h.H)return Nhg(a),null!=b&&Nhg(b),d=Dhg(12),e={name:"AES-GCM",iv:d,tagLength:128},b&&(e.additionalData=b),_.vg(h,self.crypto.subtle.encrypt(e,c.key,a),2);f=h.O;return h.return(uhg(d,new Uint8Array(f)))})};
Ohg.prototype.H=function(a,b){var c=this,d,e,f,h;return _.Cg(function(k){if(1==k.H){Nhg(a);if(28>a.length)throw new e1("ciphertext too short");null!=b&&Nhg(b);d=new Uint8Array(12);d.set(a.subarray(0,12));e={name:"AES-GCM",iv:d,tagLength:128};b&&(e.additionalData=b);_.xg(k,2);f=Uint8Array;return _.vg(k,self.crypto.subtle.decrypt(e,c.key,new Uint8Array(a.subarray(12))),4)}if(2!=k.H)return k.return(new f(k.O));h=_.zg(k);throw new e1(h.toString());})};
var xlg=function(){};
xlg.prototype.cU=function(a,b){var c=this,d;return _.Cg(function(e){if(1==e.H){if(a!=c.hea())throw new e1("Requested primitive type which is not supported by this key manager.");if(b instanceof f1){if("type.googleapis.com/google.crypto.tink.AesGcmKey"!=_.I(b,1))throw new e1("Key type "+_.I(b,1)+" is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");try{var f=Vhg(b);var h=_.Oh(f,Ehg)}catch(k){throw new e1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}}else if(b instanceof
Chg)h=b;else throw new e1("Key type is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");d=h;Bhg(klg(d).length);h=d.Zj();if(0>h||0<h)throw new e1("Version is out of bound, must be between 0 and 0.");return _.vg(e,Phg(klg(d)),2)}return e.return(e.O)})};var wlg=function(){return"type.googleapis.com/google.crypto.tink.AesGcmKey"};xlg.prototype.hea=function(){return Rhg};xlg.prototype.Zj=function(){return 0};
var Hhg=function(){var a=new Ahg;a=_.fb(a,2,32,0);var b=new llg;b=_.yh(b,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");return _.zh(b,3,3).Ib(_.Ph(a,zhg))};
var Qhg=function(a){this.H=a};Qhg.prototype.read=function(){try{var a=_.Oh(this.H,Xhg)}catch(b){throw new e1("Could not parse the given serialized proto as a keyset proto.");}if(0===Uhg(a).length)throw new e1("Could not parse the given serialized proto as a keyset proto.");return a};
var ylg=function(a,b){this.W=a;this.ka=b;this.ha=!1};ylg.prototype.V=function(){return this.ka};ylg.prototype.O=function(a){var b=this,c,d;return _.Cg(function(e){if(1==e.H)return _.xg(e,2),_.vg(e,b.W.encrypt(a),4);if(2!=e.H)return c=e.O,e.return(zlg(b,c));d=_.zg(e);if(d instanceof h1)throw new i1(d.message,6,d);if(d instanceof s1)throw new i1(d.message,8,d);throw new i1(d.message,7,d);})};
ylg.prototype.H=function(a){var b=this,c,d;return _.Cg(function(e){if(1==e.H)return _.xg(e,2),_.vg(e,Alg(b.W,a),4);if(2!=e.H)return c=e.O,e.return(zlg(b,c));d=_.zg(e);if(d instanceof h1)throw new i1(d.message,6,d);if(d instanceof s1)throw new i1(d.message,8,d);throw new i1(d.message,7,d);})};var zlg=function(a,b){if(!a.ha&&0<b.length){var c=new Uint8Array(b.length+r1.length);c.set(r1,0);c.set(b,r1.length);a.ha=!0;return c}return b};
var Blg=function(a){this.H=a},Elg=function(a,b,c){var d,e,f,h;return _.Cg(function(k){switch(k.H){case 1:try{var l=a.H;d=Clg(b,l.V,l.O,l.H)}catch(n){throw new i1(n.message,6,n);}l=d.H;e=new _.CT(l.start+r1.length,l.end+r1.length);return _.vg(k,c.get(e),2);case 2:return f=k.O,_.xg(k,3),_.vg(k,Dlg(a.H,b,f),5);case 5:return k.return(k.O);case 3:h=_.zg(k);if(h instanceof h1)throw new i1(h.message,6,h);if(h instanceof s1)throw new i1(h.message,8,h);throw new i1(h.message,7,h);}})};Blg.prototype.ha=function(){return this.H.ha()};
var Flg=function(a,b,c,d,e){i1.call(this,a,b,void 0===e?null:e)};_.K(Flg,i1);Flg.prototype.name="KaclsError";
var Glg=function(a){this.O=a};_.K(Glg,Rhg);Glg.prototype.encrypt=function(a,b){var c=this,d,e,f,h,k;return _.Cg(function(l){if(1==l.H){if(!a)throw new e1("Plaintext has to be non-null.");d=c.O.primary;if(!d)throw new e1("Primary has to be non-null.");e=d.cU();return _.vg(l,e.encrypt(a,b),2)}f=l.O;h=d.Ox();k=new Uint8Array(h.length+f.length);k.set(h,0);k.set(f,h.length);return l.return(k)})};
Glg.prototype.H=function(a,b){var c=this,d,e,f,h,k,l;return _.Cg(function(n){switch(n.H){case 1:if(!a)throw new e1("Ciphertext has to be non-null.");if(!(5<a.length)){n.Ve(2);break}d=a.subarray(0,5);return _.vg(n,tlg(c.O,d),3);case 3:return e=n.O,f=a.subarray(5,a.length),_.xg(n,4),_.vg(n,Hlg(e,f,b),6);case 6:h=n.O;_.yg(n,5);break;case 4:_.zg(n);case 5:if(h)return n.return(h);case 2:return _.vg(n,tlg(c.O,plg),7);case 7:return k=n.O,_.vg(n,Hlg(k,a,b),8);case 8:return l=n.O,n.return(l)}})};
var Hlg=function(a,b,c){var d,e,f,h;return _.Cg(function(k){switch(k.H){case 1:d=a.length,e=0;case 2:if(!(e<d)){k.Ve(4);break}if(1!=a[e].H){k.Ve(3);break}f=a[e].cU();h=void 0;_.xg(k,5);return _.vg(k,f.H(b,c),7);case 7:h=k.O;_.yg(k,6);break;case 5:_.zg(k);k.Ve(3);break;case 6:return k.return(h);case 3:e++;k.Ve(2);break;case 4:throw new e1("Decryption failed for the given ciphertext.");}})},Ilg=function(){};
Ilg.prototype.wrap=function(a){if(!a)throw new e1("Primitive set has to be non-null.");if(!a.primary)throw new e1("Primary has to be non-null.");return new Glg(a)};Ilg.prototype.hea=function(){return Rhg};
var Jlg=function(a,b,c){this.V=new Uint8Array(a);this.ka=a;this.W=b;this.H=0;this.O=c;this.ha=!1};Jlg.prototype.RA=function(){return _.Cg(function(a){_.wg(a)})};
Jlg.prototype.update=function(a){var b=this,c,d,e,f,h,k,l,n;return _.Cg(function(q){switch(q.H){case 1:if(b.ha)throw new s1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(1073741824<b.O+Math.ceil((a.length+b.H)/b.ka))throw new s1("Cannot update cipher. Cipher reaching chunk count limit.");var r=a.length+b.H;c=new Uint8Array(0>=r?0:Math.floor((r-1)/b.ka)*b.W);e=d=0;f=a.length;case 2:if(!(f>b.V.length-b.H)){q.Ve(3);break}h=Klg(b.O,!1);k=b.V.length-b.H;l=a.subarray(e,
e+k);b.V.set(l,b.H);b.H=0;e+=k;f-=k;return _.vg(q,b.RA(b.V,h),4);case 4:n=q.O;if(n.length!==b.W)throw new Shg("Update internal returned unexpected chunk size: expected "+b.W+" actual "+n.length);c.set(n,d);d+=n.length;b.O+=1;q.Ve(2);break;case 3:return b.V.set(a.subarray(e,e+f),b.H),b.H+=f,q.return(c)}})};
var Llg=function(a,b){var c,d,e;return _.Cg(function(f){if(1==f.H){if(a.ha)throw new s1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(0<a.V.length-a.H&&!b)throw new s1("Cannot flush partial chunk unless it is the last chunk");if(0===a.H&&0!==a.O)throw new s1("Cannot flush empty chunk at non-zero chunk index");c=a.V.subarray(0,a.H);d=Klg(a.O,b);return _.vg(f,a.RA(c,d),2)}e=f.O;a.H=0;a.O+=1;b&&(a.ha=!0);return f.return(e)})},Klg=function(a,b){var c=new ArrayBuffer(5),
d=new DataView(c);d.setUint32(0,a,!1);d.setUint8(4,b?1:0);return new Uint8Array(c)};
var Mlg=function(a,b,c,d){Jlg.call(this,c,b,d);this.na=a};_.K(Mlg,Jlg);Mlg.prototype.RA=function(a,b){var c=this,d;return _.Cg(function(e){if(1==e.H)return _.xg(e,2),_.vg(e,c.na.H(a,b),4);if(2!=e.H)return e.return(e.O);d=_.zg(e);throw new Shg(d.message);})};
var Nlg=function(a,b,c){this.W=a;this.O=b;this.H=0;this.V=c},Olg=function(a,b,c,d,e,f){var h,k;return _.Cg(function(l){if(1==l.H)return _.vg(l,Thg(a,b),2);h=l.O;k=new Mlg(h,d,e,0);return l.return(new Nlg(c,k,f))})},jlg=function(a,b){var c,d,e,f,h,k,l;return _.Cg(function(n){switch(n.H){case 1:c=lkg(kkg(3),b.length);d=Date.now();e=a.W-a.H;if(b.length>e)throw Plg(a,_.t(c,4,2)),new h1("ciphertext","Expected at most "+e+" bytes of ciphertext, got "+b.length+" bytes");_.xg(n,2);return _.vg(n,a.O.update(b),
4);case 4:f=n.O;if(b.length!==e){n.Ve(5);break}return _.vg(n,Llg(a.O,!0),6);case 6:h=n.O,k=f,f=new Uint8Array(k.length+h.length),f.set(k,0),f.set(h,k.length);case 5:a.H+=b.length;_.yg(n,3);break;case 2:throw l=_.zg(n),l instanceof s1?_.t(c,4,4):_.t(c,4,3),Plg(a,c),l;case 3:return Plg(a,mkg(_.t(c,4,1),Date.now()-d)),n.return(f)}})},Plg=function(a,b){a.V&&a.V.O(b.clone())};
var Qlg=function(a,b,c,d){Jlg.call(this,b,c,d);this.na=a};_.K(Qlg,Jlg);Qlg.prototype.RA=function(a,b){var c=this,d;return _.Cg(function(e){if(1==e.H)return _.xg(e,2),_.vg(e,c.na.encrypt(a,b),4);if(2!=e.H)return e.return(e.O);d=_.zg(e);throw new Shg(d.message);})};
var Rlg=function(a,b,c,d){this.W=a;this.V=b;this.H=c;this.O=d},Slg=function(a,b,c){var d,e,f,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:return d=kkg(1),e=Date.now(),_.xg(r,2),r.Ve(5);case 4:return _.vg(r,Yhg(),7);case 7:h=r.O;f=1;r.Ve(6);break;case 5:return _.vg(r,Whg(),8);case 8:h=r.O;f=2;r.Ve(6);break;case 6:_.yg(r,3);break;case 2:throw k=_.zg(r),c&&c.O(_.t(d,4,3)),k;case 3:return l=nhg(new ohg,f),c&&c.O(mkg(_.t(d,4,1),Date.now()-e)),_.vg(r,Thg(h,l),9);case 9:return n=r.O,q=new Qlg(n,
a,b,0),r.return(new Rlg(h,l,q,c))}})};Rlg.prototype.getKey=function(){return this.W};Rlg.prototype.encrypt=function(a){var b=this,c,d,e,f;return _.Cg(function(h){switch(h.H){case 1:return c=lkg(kkg(2),a.length),d=Date.now(),_.xg(h,2),_.vg(h,b.H.update(a),4);case 4:e=h.O;_.yg(h,3);break;case 2:throw f=_.zg(h),f instanceof s1?_.t(c,4,4):_.t(c,4,3),Tlg(b,c),f;case 3:return Tlg(b,mkg(_.t(c,4,1),Date.now()-d)),h.return(e)}})};
var Alg=function(a,b){var c,d,e,f,h,k;return _.Cg(function(l){switch(l.H){case 1:return c=lkg(kkg(2),b.length),d=Date.now(),_.xg(l,2),_.vg(l,a.H.update(b),4);case 4:return f=l.O,_.vg(l,Llg(a.H,!0),5);case 5:h=l.O;e=new Uint8Array(f.length+h.length);e.set(f,0);e.set(h,f.length);_.yg(l,3);break;case 2:throw k=_.zg(l),k instanceof s1?_.t(c,4,4):_.t(c,4,3),Tlg(a,c),k;case 3:return Tlg(a,mkg(_.t(c,4,1),Date.now()-d)),l.return(e)}})},Tlg=function(a,b){a.O&&a.O.O(b.clone())};
var Ulg=function(a,b){this.O=a;this.H=b},Clg=function(a,b,c,d){if(0>=b)throw new h1("plaintextSize","Original plaintext size must be greater than zero");if(0>a.start)throw new h1("plaintextRange","Invalid lower bound for plaintext range");if(a.end>=b)throw new h1("plaintextRange","Invalid upper bound for plaintext range");var e=Math.floor(a.start/c);a=Math.floor(a.end/c)+1;var f=d-c;return new Ulg(new _.CT(e*c,Math.min(b,a*c)-1),new _.CT(e*d,Math.min(0===b?f:b+Math.ceil(b/c)*f,a*d)-1))};
var Vlg=function(a,b,c,d,e,f){this.ka=a;this.V=b;this.na=c;this.O=d;this.H=e;this.W=f},Wlg=function(a,b,c,d,e,f,h){var k;return _.Cg(function(l){if(1==l.H)return _.vg(l,Thg(a,b),2);k=l.O;return l.return(new Vlg(k,c,d,e,f,h))})},Dlg=function(a,b,c){var d,e,f,h,k,l,n,q,r,v,x,y,A,C,F,M,L;return _.Cg(function(Q){switch(Q.H){case 1:d=lkg(kkg(3),c.length);e=Date.now();try{f=Clg(b,a.V,a.O,a.H)}catch(U){throw Xlg(a,_.t(d,4,2)),U;}h=f.O;k=f.H;l=h.Po()+1;n=k.Po()+1;if(c.length!==n)throw Xlg(a,_.t(d,4,2)),new h1("ciphertext",
"Length of ciphertext does not match encompassing ciphertext range");q=Math.floor(k.start/a.H);r=k.end===a.na-1;v=new Mlg(a.ka,a.O,a.H,q);_.xg(Q,2);return _.vg(Q,v.update(c),4);case 4:return y=Q.O,_.vg(Q,Llg(v,r),5);case 5:A=Q.O;C=new Uint8Array(y.length+A.length);C.set(y,0);C.set(A,y.length);if(C.length!==l)throw new Shg("Decrypted data size does not match encompassing plaintext size: expected "+l+" actual "+C.length);F=b.start-h.start;M=h.end-b.end;x=C.subarray(F,C.length-M);_.yg(Q,3);break;case 2:throw L=
_.zg(Q),L instanceof s1?_.t(d,4,4):_.t(d,4,3),Xlg(a,d),L;case 3:return Xlg(a,mkg(_.t(d,4,1),Date.now()-e)),Q.return(x)}})};Vlg.prototype.ha=function(){return this.V};var Xlg=function(a,b){a.W&&a.W.O(b.clone())};
var Ylg=new Ilg;if(!Ylg)throw new e1("primitive wrapper cannot be null");var Zlg=Ylg.hea();if(!Zlg)throw new e1("primitive wrapper cannot be undefined");if(ulg.has(Zlg)&&!(ulg.get(Zlg)instanceof Ylg.constructor))throw new e1("primitive wrapper for type "+Zlg+" has already been registered and cannot be overwritten");ulg.set(Zlg,Ylg);var $lg=new xlg,amg;void 0===amg&&(amg=!0);if(!$lg)throw new e1("Key manager cannot be null.");var bmg=wlg();
if(vhg.has(bmg)){if(!(vhg.get(bmg)instanceof $lg.constructor))throw new e1("Key manager for key type "+bmg+" has already been registered and cannot be overwritten.");if(!yhg.get(bmg)&&amg)throw new e1("Key manager for key type "+bmg+" has already been registered with forbidden new key operation.");yhg.set(bmg,amg)}vhg.set(bmg,$lg);yhg.set(bmg,amg);
var cmg=function(a,b){this.O=a;this.H=a+28;this.V=b},dmg=function(a){return _.Cg(function(b){return 1==b.H?_.vg(b,Slg(a.O,a.H,a.V),2):b.return(b.O)})},emg=function(a,b,c,d){return _.Cg(function(e){return 1==e.H?_.vg(e,Olg(b,c,d,a.O,a.H,a.V),2):e.return(e.O)})},fmg=function(a,b,c,d){var e;return _.Cg(function(f){return 1==f.H?(e=Zhg(d,a.O,a.H),_.vg(f,Wlg(b,c,e,d,a.O,a.H,a.V),2)):f.return(f.O)})};
var gmg=function(){};
gmg.prototype.getAuthToken=function(a){var b,c,d,e,f,h,k,l,n,q;return _.Cg(function(r){if(1==r.H)return b={aud:"test_kacl",iss:"google-cse-test-authn",email:a.getEmail(),email_verified:!0},c={alg:"RS256",typ:"JWT",kid:"test_authn"},d=_.sE(JSON.stringify(c),4),b.jMb=Math.round(Date.now()/1E3)-1,b.exp=Math.round(b.jMb+3600),e=d+"."+_.sE(JSON.stringify(b),4),f={alg:"RS256",d:"DI4nXowkE3RIcp07CI7NWkOHxe92sFVjgK1XqEikAXH1HK7jBxp9dF5cMKelWsu0GnqSTAMzus04hQ0lBGhGTwVTabMUkGhMRd8QrKWMXbH-DIyDOZtA9ZTg439pIKF-ZOIk2mxEt0P91EmFSq3grIW2xdbDHfnuZEZoPQ6GfMeICwBIIxoNAEbEuPyacVl6WDpfLX3qwtcushPrIo4Jkcbvq2hGk7aj5GX4cr0K1U9Ctlv5G1jSFhzdouSog4GLL2XmxyRDlzSsCxoBTViscitRYV_hHdKDBZWEzOddUoFW_xWTLXm0dlRHFDJMFF8JDuXBkcsJzaal2_Puko3Lpw",dp:"BigtEVDe7kfnEhnp6ZqOG7GHOc11-ZPcoGWq_hd75sFs_nU0-MdD6xDMaQ3AuMm5lRY6cjhSQlKjNf6Qj6yBrxE4l0bbh5uVzU2gpnhTuvWNgd1ENLBqoQ-y7YcOLt5fWUwDHZDPX8JWkZ_BUumjklY6hCkYXZ3BSm7UN_qciic",
dq:"N_7PJ42DLwJbmIlAGdQnLoxFLXEHzRbFr5Arass6ZjrtyabZ6T1hQxhjc8Vil72PHbDQ4_Beh1p5-RCBOhrm7667jsJWNei8Qmu-Abz-06OfjtBx_nzNic7Gc4sh-Cc5dU-UdX9hit2_ruBkFOIphjlTjhyFOoRvk58ZkS7bduM",e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"yU4wVOVDxYat-sgUp5Zmd32bUfdVYh1c-nKSN7JbYett_K437Y58n_IBgQntbTLxcy_96DtbaJ7Jf2ZPcwnIp1MLDkd6MLesdlRFgE-6jwG00LfeD-AYGitOh7zmWwpN32dKqLuV4CpoC7vVDGFJVVuNW_FnitKFulfG2Q-I9aSUhXoHvsqMKK9T2YSXQZa79Xh2PgErhn_X0kwoKgf8D_VLZcZWIXSVBq06fOBFW5-0sIIFGyOqWadtT98n-iQZ5XNHPXlYI-Geejk3B62YY5ND1_87poRUOavZzw5LB54dMLL4_WA32QVT72GUeeLwkwYQ30_tUyl2ZiEl_QlVeQ",
p:"_fAWJqfp8-Pc4RCYpvuaitDxjblmJf6-eI5SIExdKKbd_M9qKuSQFWG1OOW0C1l5cd9hitZZrfrE-a4_MU9SlF1jKVDYSAiaznKzfVaMDHNtntDOiGW1zm6EoMhfCo--Nv7wTfbOobSni7uFV_Vx5jDKvG7tQ9iDfn0f3k0Xzk8",q:"yvCvLuIRiJ9GMEmDCaw7x9FHODEdJp01rHjUSGhhwpshzQQHTme_ynQYPSt7KsxwOcJlr5P9OKf6DC6GGmsuzAZx3wqIRzkKa_X7od7aOV7MNLhytndJaZKgi1Olf6uIv96dWwNBtLQOR2_eGRbtBWCldVkUjnFBwoMGcgaptbc",qi:"BmuZNEO4_Jlu58O4bunxxMxIOiDoaO72uYyRhcWBqiX4oAJ7GHKN9qP5poq3Uywwnfn8uzOdJe2AoihNPMRSvXvHDyMhIZnMuWIWwhZh4EDmep7b8ELZd_hUKdsu_3TiqHiwfugb8nPsu_jzzLAe1tStt2B5aNSTWQsvvjxVl90"},
_.vg(r,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=r.H)return h=r.O,k=new TextEncoder,_.vg(r,crypto.subtle.sign("RSASSA-PKCS1-v1_5",h,k.encode(e)),3);l=r.O;n=e+"."+_.bb(new Uint8Array(l),4);q=njg(mjg(),n);return r.return(q)})};
var hmg=function(){this.Zd=null;this.H=0};hmg.prototype.V=function(a,b,c,d){this.Zd=a;this.H=b;_.t(d,2,1E3*b-c);return Promise.resolve()};hmg.prototype.O=function(a,b){if(!this.Zd)return Promise.resolve(null);if(1E3*this.H<=a)return _.t(b,1,0),Promise.resolve(null);_.t(b,1,1E3*this.H-a);return Promise.resolve(this.Zd)};
var t1=function(a,b,c,d){d=void 0===d?null:d;i1.call(this,a,b,void 0===c?null:c);this.V=d};_.K(t1,i1);t1.prototype.name="IdpError";
var img=function(){};
img.prototype.exchange=function(a,b,c,d,e,f){var h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:return h=_.Qma({grant_type:"authorization_code",code:a,redirect_uri:e,client_id:f,code_verifier:b}),_.xg(r,2),_.vg(r,_.ba.fetch(d,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:h}),4);case 4:return l=r.O,_.vg(r,l.json(),5);case 5:k=r.O;_.yg(r,3);break;case 2:throw n=_.zg(r),new t1("Auth code exchange fetch request failed",20,n,c);case 3:q=k.id_token;if(!q)throw new t1("ID token is missing from response: "+
JSON.stringify(k),20,null,c);return r.return(q)}})};
var jmg=function(a,b,c,d,e,f,h,k,l,n,q){this.na=a.endsWith("/")?a.slice(0,-1):a;this.ta=b.endsWith("/")?b.slice(0,-1):b;this.W=c;this.V=d;this.ka=e;this.H=f;this.O=h;this.ha=k;this.Nb=l;this.Ca=n;this.Ba=q},kmg=function(a,b,c,d,e,f,h){var k,l,n,q;return _.Cg(function(r){if(1==r.H){k=$hg();l=$hg();q=n="";if(2!==h)return r.Ve(2);var v=new Uint8Array(32);window.crypto.getRandomValues(v);q=_.bb(v,4);return _.vg(r,aig(q),3)}2!=r.H&&(n=r.O);return r.return(new jmg(a,b,c,d,e,f,h,k,l,q,n))})},lmg=function(a,
b){return _.Cg(function(c){return c.return(kmg(a.na,a.ta,a.W,a.V,b,a.H,a.O))})};jmg.prototype.getState=function(){return this.Nb};jmg.prototype.getEmail=function(){return this.ka};
var mmg=function(a,b){a:switch(a.O){case 1:var c="id_token";break a;case 2:c="code";break a;default:throw Error("Nq`"+a.O);}c={response_type:c,response_mode:2===a.O?"query":"fragment",scope:"openid email",login_hint:a.ka,client_id:a.W,state:a.getState(),nonce:a.ha,redirect_uri:a.V};b&&(c.prompt="none");2===a.O&&(c.code_challenge_method="S256",c.code_challenge=a.Ba);return _.Yi(new _.Ui(a.na),_.aLc(c))};
var nmg=function(a){var b=a.lastIndexOf("@");return 0<b?a.substring(b+1,a.length):""};
var omg=function(a,b){this.H=new Map;this.W=a;this.O=b};
omg.prototype.V=function(a,b){var c=this,d,e,f,h,k,l,n,q,r;return _.Cg(function(v){switch(v.H){case 1:d=nmg(a);if(!d)throw new i1(a+" is not a valid email address.",1);return _.vg(v,pmg(c,d,a),2);case 2:if(e=v.O)return v.return(e);if(!c.O){v.Ve(3);break}return _.vg(v,c.O(d),4);case 4:f=v.O;case 3:return h=f?5E3:1E4,k="google.com"===d?"https://krahsc.google.com/.well-known/cse-configuration":"https://cse."+d+"/.well-known/cse-configuration",l=Date.now(),_.xg(v,5,6),_.vg(v,qmg(k,h),8);case 8:n=v.O;
case 6:_.Ag(v);var x=Date.now()-l;_.t(b,1,x);_.Bg(v,7);break;case 5:q=_.zg(v);if(f)q&&"AbortError"===q.name?_.t(b,8,3):_.t(b,8,1);else throw q1(b,7),new i1("Unable to get CSE configuration content from "+k,14,q);v.Ve(6);break;case 7:n&&_.t(b,2,n.status);if(n&&!n.ok)if(f)_.t(b,8,2);else throw q1(b,7),new i1("Fetching content from "+k+" failed with "+n.status+" status",14);return(r=!n||!n.ok)?_.vg(v,rmg(c,d,a,b,f),12):_.vg(v,smg(c,n,d,a,b),11);case 11:return v.return(v.O);case 12:return v.return(v.O)}})};
var rmg=function(a,b,c,d,e){var f,h,k,l,n,q;return _.Cg(function(r){if(!e)throw q1(d,7),new i1("No D3 IDP setting found during fallback.",14);if(!_.gh(e,1,vig))throw q1(d,8),new i1("D3 IDP setting does not include OIDC configuration.",15);f=_.wh(e,rig,1,vig);h=_.p(f,1);k=f.getName()||"";l=_.p(f,3);n=_.dh(f,5)?_.p(f,5):1;return(q=tmg(h,k,l))?(q1(d,8),r.return(Promise.reject(q))):r.return(umg(a,h,k,l,n,b,c,d))})},smg=function(a,b,c,d,e){return b.json().catch(function(f){q1(e,8);return Promise.reject(new i1("Failed to parse CSE configuration content to json.",
15,f))}).then(function(f){var h=f.client_id,k=f.discovery_uri,l=f.name||"";(f=f.grant_type)||(f="implicit");switch(f){case "implicit":f=1;break;case "authorization_code":f=2;break;default:return q1(e,8),Promise.reject(new i1("CSE configuration includes unknown grant_type: "+f,15))}var n=tmg(k,l,h);return n?(q1(e,8),Promise.reject(n)):umg(a,k,l,h,f,c,d,e)})},umg=function(a,b,c,d,e,f,h,k){return vmg(b,c,e,k).then(function(l){return kmg(l.Pwb,l.S3b,d,a.W,h,c,e)}).then(function(l){a.H.set(f,{Lzb:Date.now(),
entry:l});return l})},vmg=function(a,b,c,d){var e=Date.now();return _.ba.fetch(a,{referrerPolicy:"origin"}).catch(function(f){q1(d,5);return Promise.reject(new t1("Unable to get OIDC content from "+a,12,f,b))}).then(function(f){_.t(d,4,f.status);return f.ok?wmg(f,b,c,d):(q1(d,14),Promise.reject(new t1("Fetching content from "+a+" failed with "+f.status+" status",31,null,b)))}).finally(function(){var f=Date.now()-e;return _.t(d,3,f)})},wmg=function(a,b,c,d){return a.json().catch(function(e){q1(d,6);
return Promise.reject(new t1("Failed to parse discovery configuration content to json.",13,e,b))}).then(function(e){var f=e.authorization_endpoint,h=e.token_endpoint,k=e.response_types_supported;return(e=e.authorization_endpoint&&e.token_endpoint?k&&0!==k.length?1===c&&!k.includes("id_token")||2===c&&!k.includes("code")?new t1("response_type is not supported by the OIDC provider: "+c,13,null,b):null:new t1('"response_types_supported" is null or empty in OIDC configuration',13,null,b):new t1('OIDC configuration content does not include the required "authorization_endpoint" or "token_endpoint" field.',
13,null,b))?(q1(d,6),Promise.reject(e)):{Pwb:f,S3b:h}})},pmg=function(a,b,c){var d;return _.Cg(function(e){if(d=a.H.get(b))if(864E5<Date.now()-d.Lzb)a.H.delete(b);else return e.return(lmg(d.entry,c));return e.return(null)})},tmg=function(a,b,c){return c&&a?null:new t1('CSE configuration content does not include the required "client_id" and "discovery_uri" field.',15,null,b)},qmg=function(a,b){var c,d,e,f;return _.Cg(function(h){switch(h.H){case 1:var k=_.ba.AbortController?new _.ba.AbortController:
void 0;(c=k)&&(d=setTimeout(function(){return c.abort()},b));_.xg(h,2,3);e={referrerPolicy:"origin"};c&&(e.signal=c.signal);return _.vg(h,_.ba.fetch(a,e),5);case 5:return h.return(h.O);case 3:_.Ag(h);d&&clearTimeout(d);_.Bg(h,0);break;case 2:throw f=_.zg(h),f;}})};
var xmg={interaction_required:10,login_required:10,account_selection_required:10,consent_required:10,invalid_request_uri:18,invalid_request_object:18,request_not_supported:18,request_uri_not_supported:18,registration_not_supported:18,invalid_request:18,unauthorized_client:18,access_denied:18,unsupported_response_type:18,invalid_scope:18,server_error:19,temporarily_unavailable:19};
var ymg=function(a){this.H=a};ymg.prototype.getToken=function(){return this.H};ymg.prototype.getEmail=function(){var a=u1(this);return a.google_email||a.email};ymg.prototype.nM=function(){var a=_.Ig()/1E3;return u1(this).iat-60>a||u1(this).exp-60<a};var u1=function(a){return JSON.parse(atob(a.H.split(".")[1]))},zmg=function(a,b){a=a.getEmail();return!!a&&a.toLowerCase()===b.toLowerCase()};
var Bmg=function(a,b,c){var d=this;this.H=a;this.Pa=b;this.Fa=function(e){return Amg(d,e)};this.W=!1;this.ha=this.Ha=this.ka=null;this.O=c?c:new qkg;this.Ja=Date.now()},Dmg=function(a){if(a.W)return a.ka;a.W=!0;a.Ja=Date.now();a.ka=Cmg(a);window.addEventListener("message",a.Fa,!1);a.ta();return a.ka},Emg=function(a){a.W=!1;a.Ba();window.removeEventListener("message",a.Fa,!1);var b=Date.now()-a.Ja;_.t(a.O,6,b)},Fmg=function(a,b){a.ha(b);Emg(a)},Cmg=function(a){return new Promise(function(b,c){a.Ha=
b;a.ha=c})},Amg=function(a,b){var c,d,e,f,h,k,l,n,q,r,v,x;return _.Cg(function(y){switch(y.H){case 1:c=b;if(!a.Ca(c))return y.return();d=c.data;if(a.H.getState()!==d.state)return y.return();if(e=d.error){var A=xmg[e];f=A?A:18;h=e+": "+d.error_description;Gmg(a,f);Fmg(a,new t1(h,f,null,a.H.H));return y.return()}k=d.code;l="";if(!k){y.Ve(2);break}_.xg(y,3);return _.vg(y,a.Pa.exchange(k,a.H.Ca,a.H.H,a.H.ta,a.H.V,a.H.W),5);case 5:l=y.O;_.yg(y,2);break;case 3:return n=_.zg(y),Gmg(a,20),Fmg(a,n),y.return();
case 2:q=l||d.token;if(!q)return q1(a.O,9),Fmg(a,new t1("Missing JWT from callback",16,null,a.H.H)),y.return();r=new ymg(q);try{v=u1(r)}catch(C){return q1(a.O,9),Fmg(a,new t1("Unparsable JWT from callback",16,null,a.H.H)),y.return()}A=a.H.ha;if(u1(r).nonce!=A)return q1(a.O,9),Fmg(a,new t1("JWT from callback has mismatching nonce. Want: "+a.H.ha+", got: "+v.nonce,16,null,a.H.H)),y.return();x=Math.floor(Date.now()/1E3);if(u1(r).iat-60>x)return q1(a.O,9),Fmg(a,new t1("JWT from callback has invalid issuance date: iat is "+
v.iat+", must be before "+x,16,null,a.H.H)),y.return();if(u1(r).exp-60<x)return q1(a.O,9),Fmg(a,new t1("JWT from callback is expired: exp is "+v.iat+", must be after "+x,16,null,a.H.H)),y.return();a.Ha(r);Emg(a);_.wg(y)}})},Gmg=function(a,b){switch(b){case 11:b=4;break;case 10:b=3;break;case 18:b=10;break;case 19:b=11;break;case 20:b=12;break;default:b=0}q1(a.O,b)};
var Hmg=function(a,b,c){Bmg.call(this,a,b,c);this.V=null;this.na=0};_.K(Hmg,Bmg);Hmg.prototype.ta=function(){this.V=_.si(mmg(this.H,!1).toString(),window,_.fi("_blank"));rkg(this.O,_.ej(mmg(this.H,!1),"login_hint").toString());this.V?Img(this):(q1(this.O,13),this.ha(new t1("Unable to open the popup.",25,null,this.H.H)))};Hmg.prototype.Ba=function(){this.V&&!this.V.closed&&(_.yk(this.na),this.V.close(),Img(this))};Hmg.prototype.Ca=function(a){return a.origin==(new URL(this.H.V)).origin};
var Img=function(a){a.V.closed?(a.V=null,a.W&&(q1(a.O,4),a.ha(new t1("Popup was closed before authentication completed.",11,null,a.H.H)))):a.na=_.xk(function(){return Img(a)},1E3)};
var Jmg=function(a,b,c){Bmg.call(this,a,b,c);this.V=null;this.na=0};_.K(Jmg,Bmg);Jmg.prototype.Ca=function(a){return!!this.V&&a.source===this.V.contentWindow&&"null"===a.origin};
Jmg.prototype.ta=function(){var a=this,b=_.ii(mmg(this.H,!0).toString());rkg(this.O,_.ej(mmg(this.H,!0),"login_hint").toString());this.V=b=_.yj(document,_.fma(b,{sandbox:"allow-scripts",style:_.fi("display:none")}));document.body.appendChild(b);this.na=_.xk(function(){a.W&&(q1(a.O,3),Fmg(a,new t1("Timed out while waiting for iframe to authenticate.",10,null,a.H.H)))},5E3)};Jmg.prototype.Ba=function(){_.yk(this.na);this.V&&(_.Dj(this.V),this.V=null)};
var Kmg=function(a,b,c,d){this.ha=a;this.V=b;this.W=c;this.O=d;this.H=new Map};Kmg.prototype.getAuthToken=function(a,b){var c=this,d=a.qf();a=_.p(a,2)||"";var e=d+"|"+a;this.H.has(e)||(b=Lmg(this,d,a,b).finally(function(){return c.H.delete(e)}),this.H.set(e,b));return this.H.get(e)};
var Lmg=function(a,b,c,d){var e,f,h,k;return _.Cg(function(l){if(1==l.H){e=d||new xkg;var n=_.t(e,1,1==b);var q=nmg(c);n=_.t(n,2,q);q=new vkg;_.w(n,6,q);return _.vg(l,a.W.O(Date.now(),_.u(e,vkg,6)),2)}f=l.O;if(!f)return l.return(Mmg(a,b,c,e));a:{q=new ymg(f);try{if(q.nM()){n=null;break a}}catch(r){n=null;break a}n=q}return(h=n)&&zmg(h,c)?(n=new okg,_.nh(e,4,ykg,n),a.O.ka(e),k=new blg,n=h.getToken(),_.mh(k,1,clg,n),l.return(Promise.resolve(k))):l.return(Mmg(a,b,c,e))})},Mmg=function(a,b,c,d){var e,
f,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:return e=new qkg,_.nh(d,5,ykg,e),_.Oia(r,2),_.vg(r,a.ha.V(c,e),4);case 4:return f=r.O,h=f.H,2==b?_.vg(r,Dmg(new Hmg(f,a.V,e)),8):_.vg(r,Dmg(new Jmg(f,a.V,e)),7);case 7:k=r.O;r.Ve(6);break;case 8:k=r.O;case 6:l=k;if(u1(l).exp&&u1(l).iat){var v=1E3*(u1(l).exp-u1(l).iat);_.t(d,3,v)}n=l.getEmail();if(!n)throw q1(e,15),new t1("Authentication token has no email or google_email claim",32,null,h);if(!zmg(l,c))throw q1(e,2),new t1("Mismatch between user email "+
c+" and authentication token email "+n,9,null,h);q1(e,1);q=new blg;v=l.getToken();_.mh(q,1,clg,v);return _.vg(r,a.W.V(l.getToken(),u1(l).exp-60,Date.now(),_.u(d,vkg,6)),9);case 9:return r.return(q);case 2:_.Ag(r),a.O.ka(d),_.Bg(r,0)}})};
var Nmg=function(a,b,c){this.H=new Kmg(new omg(a,c),new img,new hmg,b)};Nmg.prototype.getAuthToken=function(a){var b=this,c;return _.Cg(function(d){c=alg($kg(new Zkg,_.wh(a,c1,1,kjg).qf()),a.getEmail());return d.return(b.H.getAuthToken(c).then(function(e){return njg(mjg(),e.getAuthToken())}))})};
var Omg=function(a,b,c,d){this.W=a;this.O=b;this.V=c;this.H=d};
Omg.prototype.getAuthToken=function(a){var b=this,c,d,e,f,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:c=Date.now();var v=new fkg;var x=_.wh(a,c1,1,kjg).qf();v=_.t(v,1,x);x=a.getEmail();v=_.t(v,2,x);d=_.t(v,4,b.O);if(!b.H){r.Ve(2);break}_.xg(r,3);e=d;f=e.H;return _.vg(r,b.H(nmg(a.getEmail())),5);case 5:f.call(e,r.O);_.yg(r,2);break;case 3:_.zg(r);case 2:return h=_.Nh(new o1,gkg,d),k=void 0,_.xg(r,6,7),_.vg(r,v1(b.W,1,h),9);case 9:return l=r.O,n=l.getExtension(ikg),r.return(njg(mjg(),n.getAuthToken()));
case 7:_.Ag(r);b.V.ha(cig(1,c,k));if(k)throw k;_.Bg(r,0);break;case 6:k=q=_.zg(r),r.Ve(7)}})};
var Pmg=function(a,b,c){this.W=a;this.H=b;this.O=c};
Pmg.prototype.V=function(a,b){var c=this,d,e,f,h,k,l,n;return _.Cg(function(q){switch(q.H){case 1:var r=new Hkg;r=_.t(r,1,a);d=_.t(r,3,c.H);if(!c.O){q.Ve(2);break}_.xg(q,3);e=d;f=e.H;return _.vg(q,c.O(nmg(a)),5);case 5:f.call(e,q.O);_.yg(q,2);break;case 3:_.zg(q);case 2:return h=new Rjg,_.Oia(q,6),_.vg(q,v1(c.W,6,_.Nh(new o1,Ikg,d),h),8);case 8:return k=q.O,l=k.getExtension(Kkg),_.vg(q,kmg(_.p(l,1),_.p(l,2),_.p(l,3),c.H,a,_.p(l,4),_.p(l,5)),9);case 9:return q.return(q.O);case 6:_.Ag(q),(n=h.getExtension(Lkg))&&
_.jb(b,n),_.Bg(q,0)}})};
var Qmg=function(a){this.H=a};Qmg.prototype.V=function(a,b,c,d){var e=this,f,h;return _.Cg(function(k){if(1==k.H){f=new Rjg;_.Oia(k,2);var l=v1,n=e.H,q=new o1;var r=(new Vkg).setToken(a);r=_.t(r,2,b);return _.vg(k,l(n,9,Wkg.zH(q,r),f),4)}if(2!=k.H)return k.return(Promise.resolve());_.Ag(k);(h=f.getExtension(Ykg))&&_.jb(d,h);return _.Bg(k,0)})};
Qmg.prototype.O=function(a,b){var c=this,d,e,f,h;return _.Cg(function(k){if(1==k.H)return d=new Rjg,_.Oia(k,2),_.vg(k,v1(c.H,8,_.Nh(new o1,Rkg,new Qkg),d),4);if(2!=k.H)return e=k.O,f=e.getExtension(Tkg),k.return(Promise.resolve(f.getToken()));_.Ag(k);(h=d.getExtension(Ukg))&&_.jb(b,h);return _.Bg(k,0)})};
var Rmg=function(a){this.H=a};Rmg.prototype.exchange=function(a,b,c,d,e,f){var h=this,k,l,n;return _.Cg(function(q){if(1==q.H){var r=new o1;var v=new Mkg;v=_.t(v,1,a);v=_.t(v,2,b);v=_.t(v,3,c);v=_.t(v,4,d);v=_.t(v,5,e);v=_.t(v,6,f);k=Nkg.zH(r,v);return _.vg(q,v1(h.H,7,k),2)}l=q.O;n=_.p(l.getExtension(Pkg),1);if(!n)throw new t1("ID token is missing from proxied auth code exchange response",20,null,c);return q.return(n)})};
var Smg=function(a,b){this.H=a;this.O=b};Smg.prototype.getAuthToken=function(a){var b=this,c,d,e;return _.Cg(function(f){if(1==f.H){c=_.wh(a,c1,1,kjg).qf();if(1===c)return f.return(b.H.getAuthToken(a));d=alg($kg(new Zkg,c),a.getEmail());var h=b.O,k=h.getAuthToken;var l=new xkg;l=_.t(l,7,!0);return _.vg(f,k.call(h,d,l),2)}e=f.O;return f.return(njg(mjg(),e.getAuthToken()))})};
var Tmg=function(a,b,c,d){this.V=a;this.O=b;this.W=c;this.ha=d;this.H=dig(a,b,c,d)},Umg=function(a,b,c){var d;return _.Cg(function(e){switch(e.H){case 1:a.H||(a.H=dig(a.V,a.O,a.W,a.ha));if(a.H.Fh){e.Ve(2);break}_.xg(e,3);return _.vg(e,eig(a.H),5);case 5:_.yg(e,4);break;case 3:throw d=_.zg(e),a.H&&(a.H.iframe.remove(),a.H=null),d;case 4:a.H.Fh=!0;case 2:return c?e.return(new Promise(function(f,h){var k=setTimeout(function(){h(new i1("No response from iframe channel within timeout",27))},c);a.H.channel.H(b).then(function(l){clearTimeout(k);
f(l)}).catch(function(l){clearTimeout(k);h(l)})})):e.return(a.H.channel.H(b))}})},v1=function(a,b,c,d){var e,f,h,k;return _.Cg(function(l){if(1==l.H)return _.vg(l,Umg(a,{type:b,request:_.Ph(c,Ujg)},1===b?void 0:3E4),2);e=l.O;f=e.data;if(!f)throw new i1("Iframe returned an empty message",17);h=null;try{h=_.Oh(f.response,Xjg)}catch(n){throw new i1("Iframe returned an malformed response",17);}d&&_.eh(h,3)&&_.jb(d,_.u(h,Rjg,3));if((k=h.getError())&&0!==k.getError())throw _.dh(k,3)?new t1(_.I(k,2),k.getError(),
null,_.I(k,3)):new i1(_.I(k,2),k.getError());return l.return(h)})};
var Vmg={"Content-Type":"application/json"},Wmg=function(a){this.H=a};
Wmg.prototype.wrap=function(a){var b=this,c,d,e,f,h,k,l,n,q,r,v,x;return _.Cg(function(y){switch(y.H){case 1:if(!_.dh(a,3))throw new i1("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=Xmg(d,"/wrap");f=Ymg(d);var A=Ckg(1);A=_.t(A,2,e);h=_.t(A,6,f);l={key:null==(k=_.ih(a,1))?void 0:_.hba(k),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.xg(y,2);return _.vg(y,_.ba.fetch(e,{method:"POST",mode:"cors",headers:Vmg,body:JSON.stringify(l)}),4);case 4:n=y.O;_.yg(y,3);break;case 2:throw q=
_.zg(y),y=Date.now()-c,_.t(h,3,y),_.t(h,5,7),b.H.H(h),new i1("Wrap request to KACLS failed",28,q);case 3:_.t(h,4,n.status);A=Date.now()-c;_.t(h,3,A);if(!n.ok)throw b.H.H(h),fig(n.status);_.xg(y,5);return _.vg(y,n.json(),7);case 7:r=y.O;_.yg(y,6);break;case 5:throw v=_.zg(y),_.t(h,5,2),b.H.H(h),new i1("Unable to parse response as JSON",2,v);case 6:x=r.wrapped_key;if(!x)throw _.t(h,5,3),b.H.H(h),new i1("wrapped_key is missing in KACLS response",2);_.t(h,5,1);b.H.H(h);return y.return(Ojg(x))}})};
Wmg.prototype.V=function(a){var b=this,c,d,e,f,h,k,l,n,q,r,v;return _.Cg(function(x){switch(x.H){case 1:if(!_.dh(a,3))throw new i1("Missing authorization token",5);c=Date.now();d=_.p(a,3);e=Xmg(d,"/unwrap");f=Ymg(d);var y=Ckg(2);y=_.t(y,2,e);h=_.t(y,6,f);k={wrapped_key:_.p(a,1),authorization:d,authentication:_.p(a,2),reason:_.p(a,4)};_.xg(x,2);return _.vg(x,_.ba.fetch(e,{method:"POST",mode:"cors",headers:Vmg,body:JSON.stringify(k)}),4);case 4:l=x.O;_.yg(x,3);break;case 2:throw n=_.zg(x),x=Date.now()-
c,_.t(h,3,x),_.t(h,5,7),b.H.H(h),new i1("Unwrap request to KACLS failed",28,n);case 3:_.t(h,4,l.status);y=Date.now()-c;_.t(h,3,y);if(!l.ok)throw b.H.H(h),fig(l.status);_.xg(x,5);return _.vg(x,l.json(),7);case 7:q=x.O;_.yg(x,6);break;case 5:throw r=_.zg(x),_.t(h,5,2),b.H.H(h),new i1("Unable to parse response as JSON",3,r);case 6:v=q.key;if(!v)throw _.t(h,5,3),b.H.H(h),new i1("key is missing in KACLS response",3);_.t(h,5,1);b.H.H(h);return x.return(Ljg(v))}})};
var Xmg=function(a,b){a=Zmg(a).kacls_url;if(!a)throw new i1("Missing KACLS URL claim in authorization token",5);return a.endsWith("/")?a.slice(0,-1)+b:a+b},Ymg=function(a){a=Zmg(a);if(!a.resource_name)throw new i1("resource_name claim is empty",5);return a.resource_name},Zmg=function(a){try{return JSON.parse(_.TSb(a.split(".")[1]))}catch(b){throw new i1("Cannot decode authorization token",5,b);}};
var $mg=function(a,b){this.O=a;this.H=b};$mg.prototype.wrap=function(a){var b=this,c,d,e,f,h,k,l;return _.Cg(function(n){switch(n.H){case 1:c=Date.now();var q=new bkg;var r=_.RSb(_.p(a,1));q=_.t(q,1,r);q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.Nh(new o1,ckg,d);f=void 0;_.xg(n,2,3);return _.vg(n,v1(b.O,2,e),5);case 5:return h=n.O,k=h.getExtension(ekg),n.return(Ojg(_.p(k,1)));case 3:_.Ag(n);b.H.ha(cig(2,c,f));if(f)throw f;_.Bg(n,0);break;case 2:f=l=_.zg(n),n.Ve(3)}})};
$mg.prototype.V=function(a){var b=this,c,d,e,f,h,k,l;return _.Cg(function(n){switch(n.H){case 1:c=Date.now();var q=new Yjg;q=_.t(q,1,_.p(a,1));q=_.t(q,2,_.p(a,2));q=_.t(q,3,_.p(a,3));d=_.t(q,4,_.p(a,4));e=_.Nh(new o1,Zjg,d);f=void 0;_.xg(n,2,3);return _.vg(n,v1(b.O,3,e),5);case 5:return h=n.O,k=h.getExtension(akg),n.return(Ljg(_.RSb(_.I(k,1))));case 3:_.Ag(n);b.H.ha(cig(3,c,f));if(f)throw f;_.Bg(n,0);break;case 2:f=l=_.zg(n),n.Ve(3)}})};
var ang=function(a){_.N.call(this,a)};_.K(ang,_.N);var bng=[1,2,3,5];
var cng=function(a,b){b=void 0===b?0:b;this.W=(new _.bJc(1269,a)).build();this.V=b};cng.prototype.O=function(a){var b=new ang;a=_.nh(b,3,bng,a);a=_.t(a,4,this.V);this.W.V(a)};cng.prototype.ka=function(a){var b=new ang;a=_.nh(b,2,bng,a);a=_.t(a,4,this.V);this.W.V(a)};cng.prototype.H=function(a){var b=new ang;a=_.nh(b,1,bng,a);a=_.t(a,4,this.V);this.W.V(a)};cng.prototype.ha=function(a){var b=new ang;a=_.nh(b,5,bng,a);a=_.t(a,4,this.V);this.W.V(a)};
var dng=function(a){this.V=a};dng.prototype.O=function(a){var b=v1,c=this.V,d=new o1,e=new Ekg;a=_.nh(e,3,Fkg,a);b(c,10,Gkg.zH(d,a))};dng.prototype.ka=function(a){var b=v1,c=this.V,d=new o1,e=new Ekg;a=_.nh(e,2,Fkg,a);b(c,10,Gkg.zH(d,a))};dng.prototype.H=function(a){var b=v1,c=this.V,d=new o1,e=new Ekg;a=_.nh(e,1,Fkg,a);b(c,10,Gkg.zH(d,a))};dng.prototype.ha=function(a){var b=v1,c=this.V,d=new o1,e=new Ekg;a=_.nh(e,4,Fkg,a);b(c,10,Gkg.zH(d,a))};
var eng=function(a,b,c){this.V=a;this.H=b;this.O=c},fng=function(a,b){var c=_.dh(a,4)?_.p(a,4).toString():(c=(c=_.Ki(_.vj().location.href))&&/\/u\/(\d+)\/?/.exec(c))?c[1]:"0";var d=_.p(a,3)||0;if(_.u(a,j1,6)&&_.z(_.u(a,j1,6),1)){var e=_.uC(_.u(_.u(a,j1,6),_.ul,2));var f=_.ed(_.u(a,j1,6),5);e=new Tmg(e,d,c,f)}else e=void 0;var h;e&&_.z(_.u(a,j1,6),4)?h=new dng(e):h=new cng(c,d);a:switch(c=h,_.dh(a,1)?_.p(a,1):1){case 0:if(!_.dh(a,7))throw new i1("IDP is OIDC but OIDC callback URL is missing",1);d=
_.p(a,7);a=e?_.u(a,j1,6)&&_.z(_.u(a,j1,6),3)?new Smg(new Omg(e,d,c,b),new Kmg(new Pmg(e,d,b),new Rmg(e),new Qmg(e),c)):new Omg(e,d,c,b):new Nmg(d,c,b);break a;case 1:a=new gmg;break a;default:throw new i1("Unknown IDP type",1);}return new eng(a,e?new $mg(e,h):new Wmg(h),h)},nng=function(a,b){var c,d,e,f,h,k,l,n,q;return _.Cg(function(r){switch(r.H){case 1:if(1<_.kb(b,ujg,5).length)throw new i1("at most one additional KACLS is allowed in multi-wrapping",1);gng(b);c=hng(_.p(b,4));_.xg(r,2);return _.vg(r,
dmg(ing(a,c)),4);case 4:d=r.O;_.yg(r,3);break;case 2:throw e=_.zg(r),new i1(e.message,7,e);case 3:return _.vg(r,jng(a,_.u(b,ihg,2),kng(_.p(b,3))),5);case 5:return f=r.O,_.vg(r,hig(d.getKey(),_.p(b,3)),6);case 6:return h=r.O,l=function(){var v,x;return _.Cg(function(y){if(1==y.H)return v=_.p(_.u(b,n1,1),2),_.vg(y,lng(a,d.getKey(),f,_.p(b,3),_.p(_.u(b,n1,1),1),_.p(_.u(b,n1,1),2),!0),2);x=y.O;k=mng(v,x,_.p(b,4),d.V,h);_.wg(y)})}(),n=new bjg,q=_.kb(b,ujg,5).map(function(v){var x,y;return _.Cg(function(A){if(1==
A.H)return x=_.p(_.u(v,n1,1),2),_.vg(A,lng(a,d.getKey(),f,_.p(v,2),_.p(_.u(v,n1,1),1),x,!1),2);y=A.O;var C=mng(x,y,_.p(b,4),d.V,h);_.oh(n,1,d1,C);_.wg(A)})}),_.vg(r,Promise.all(q.concat([l])),7);case 7:return r.return(new ylg(d,k))}})},rng=function(a,b){var c,d,e,f,h,k;return _.Cg(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.vg(l,ong(a,b),2);case 2:return d=l.O,_.vg(l,png(a,c.Kpa(),d,_.p(b,5),_.p(_.u(b,n1,3),1),_.p(_.u(b,n1,3),2)),3);case 3:return e=l.O,f=qng(c),_.xg(l,4),_.vg(l,emg(ing(a,
hng(c.pea().H())),e,f,_.p(b,2)-r1.length),6);case 6:h=l.O;_.yg(l,5);break;case 4:throw k=_.zg(l),new i1(k.message,7,k);case 5:return l.return(new ilg(h))}})},sng=function(a,b){var c,d,e,f,h,k;return _.Cg(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.vg(l,ong(a,b),2);case 2:return d=l.O,_.vg(l,png(a,c.Kpa(),d,_.p(b,5),_.p(_.u(b,n1,3),1),_.p(_.u(b,n1,3),2)),3);case 3:return e=l.O,f=qng(c),_.xg(l,4),_.vg(l,fmg(ing(a,hng(c.pea().H())),e,f,_.p(b,2)-r1.length),6);case 6:h=l.O;_.yg(l,5);break;
case 4:throw k=_.zg(l),new i1(k.message,7,k);case 5:return l.return(new Blg(h))}})};eng.prototype.ha=function(){if(!_.gh(void 0,3,mhg))throw new i1("unknown encryption type",1);return tng(0,(void 0).pea().H())};
var tng=function(a,b){a=hng(b);try{return Zhg(NaN-r1.length,a,a+28)}catch(c){if(c instanceof h1)throw new i1(c.message,1,c);throw new i1(c.message,7,c);}},hng=function(a){switch(a){case 1:return 2097152;case 2:return 65536;case 3:return 16384;case 0:throw new i1("Buffer size config is not set",1);default:throw new i1("Unexpected buffer size config",1);}},ing=function(a,b){return new cmg(b,a.O)},ung=function(a,b,c){var d,e;return _.Cg(function(f){if(1==f.H)return _.vg(f,jng(a,b,c),2);d=f.O;e=new ijg;
var h=new ojg;h=_.t(h,1,d);pjg.zH(e,h);return f.return(e)})},ong=function(a,b){return _.Cg(function(c){if(_.eh(b,6))return c.return(Promise.resolve(_.p(_.u(b,ijg,6).getExtension(pjg),1)));if(_.eh(b,4))return c.return(jng(a,_.u(b,ihg,4),kng(_.p(b,5))));throw new i1("Invalid authentication token.",1);})},jng=function(a,b,c){var d,e;return _.Cg(function(f){if(1==f.H){var h=new jjg;var k=_.wh(b,c1,1,jhg);h=_.nh(h,1,kjg,k);d=_.t(h,2,c);return _.vg(f,a.V.getAuthToken(d),2)}e=f.O;return f.return(e.getAuthToken())})},
kng=function(a){try{return JSON.parse(atob(a.split(".")[1])).email}catch(b){throw new i1("Invalid authorization token.",1);}},lng=function(a,b,c,d,e,f,h){var k,l,n,q,r;return _.Cg(function(v){switch(v.H){case 1:var x=new Mjg;x=_.t(x,1,b);x=_.t(x,2,c);x=_.t(x,3,d);k=_.t(x,4,e);_.xg(v,2);return _.vg(v,a.H.wrap(k),4);case 4:l=v.O;_.yg(v,3);break;case 2:throw n=_.zg(v),q=n instanceof i1?n.H:17,r=n instanceof i1?n.O:n,new Flg(n.message,q,f,h,r);case 3:return v.return(_.p(l,1))}})},png=function(a,b,c,d,
e,f){var h,k,l,n,q,r;return _.Cg(function(v){switch(v.H){case 1:var x=new Jjg;x=_.t(x,1,b);x=_.t(x,2,c);x=_.t(x,3,d);h=_.t(x,4,e);_.xg(v,2);return _.vg(v,a.H.V(h),4);case 4:k=v.O;_.yg(v,3);break;case 2:throw l=_.zg(v),n=l instanceof i1?l.H:17,q=l instanceof i1?l.O:l,new Flg(l.message,n,f,!0,q);case 3:return v.return(null==(r=_.ih(k,1))?void 0:_.qJc(r))}})},mng=function(a,b,c,d,e){var f=new d1;a=_.t(f,1,a);b=_.t(a,2,b);a=new lhg;c=_.t(a,1,c);c=_.nh(b,3,mhg,c);d=_.w(c,4,d);return _.t(d,5,e)},qng=function(a){return _.eh(a,
4)&&_.dh(a.VAa(),1)?a.VAa():nhg(new ohg,1)},gng=function(a){a=_.kb(a,ujg,5).map(function(b){return _.p(b,2)}).concat(_.p(a,3));if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).resource_name}catch(d){throw new i1("Invalid authorization token.",1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new i1("mismatching resource_name in authorization tokens",1);if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).perimeter_id}catch(d){throw new i1("Invalid authorization token.",
1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new i1("mismatching perimeter_id in authorization tokens",1);},vng=function(a,b){var c,d,e,f,h,k,l,n,q,r,v,x,y,A,C;return _.Cg(function(F){switch(F.H){case 1:c=_.u(b,Ajg,2);d=_.u(b,xjg,3);e=c.getMetadata();f=_.p(c,2);h=_.p(d,2);var M=kng(f),L=kng(h);if(M!==L)throw new i1("Source email and destination email do not match",1);return _.vg(F,jng(a,_.u(b,ihg,1),kng(f)),2);case 2:return k=F.O,_.vg(F,png(a,e.Kpa(),k,f,_.p(_.u(c,n1,1),1),_.p(_.u(c,
n1,1),2)),3);case 3:return l=F.O,_.vg(F,lng(a,l,k,h,_.p(_.u(d,n1,1),1),_.p(_.u(d,n1,1),2),!0),4);case 4:return n=F.O,q=eng,r=mng,v=_.p(_.u(d,n1,1),2),x=n,y=e.pea().H(),A=qng(e),_.vg(F,hig(l,h),5);case 5:return C=r.call(q,v,x,y,A,F.O),M=F.return,L=new Ijg,L=_.w(L,1,C),M.call(F,L)}})};
var wng=function(a,b){this.yb=a;this.O=b;this.H=null};wng.prototype.get=function(){if(!this.H){this.O.info("drive.ds.cse.CseProvider","Creating CSE client");var a=_.u(this.yb,_.hMc,2),b=xng.get(_.RM(this.yb));this.H=2===_.Hd(a,3,1)?fng(ejg(fjg(gjg(hjg(djg(),_.p(a,4)),_.u(a,j1,6)),_.bL(_.TK(this.yb))),b),function(){return Promise.resolve(_.u(a,uig,5)||null)}):fng(new cjg)}return this.H};var xng=new Map([[0,0],[12,1],[13,2],[14,3],[9,5],[1,4],[15,6]]);
var yng=function(a){return 1E3*JSON.parse(atob(a.split(".")[1])).exp<Date.now()};
var zng=function(a,b,c,d){_.P.call(this);this.W=a;this.H=b;this.O=c;this.V=d};_.K(zng,_.P);
var Ang=function(a,b){var c=b.yc()||_.p(b,12);if(!_.HM(a.H))return Promise.resolve(iig().then(function(l){return _.iPc(_.jPc(_.hPc(new _.vN,c),l),123)}));var d=_.p(b,24),e=_.p(b,25),f=_.p(b,32),h=b.vj();if(c&&d&&!yng(d)&&e&&null!=f&&h&&null!=h)return a.O.info("drive.ds.cse.CseTokenProvider","Using prefetched CseToken for "+c),d=_.lPc(_.kPc(_.iPc(_.jPc(_.hPc(new _.vN,c),d),e),f),h),Promise.resolve(d);var k=new _.og;_.pg(k,1422);a.O.info("drive.ds.cse.CseTokenProvider","Fetching CseToken for "+c);return Promise.resolve(a.W.then(function(l){var n,
q,r,v,x,y;return _.Cg(function(A){if(1==A.H)return n=_.kb(b,_.Xl,28),q=n.find(function(C){return C.getId()===c}),r=Uig(Vig(Tig(new _.zM,c),k),q),!_.J(a.H,8,!1)||c?A.Ve(2):(v=_.ed(b,3)[0])?(_.t(r,5,v),A.Ve(2)):(x=_.ed(b,10)[0])?_.vg(A,_.tSc(a.V,x).promise,5):A.Ve(2);2!=A.H&&(y=A.O,_.t(r,5,y));return A.return(l.af(r))})}).then(function(l){return Promise.resolve(l)}).then(function(l){c||(c=l.yc());return l}))};
var Bng=function(a,b,c,d,e){var f=phg(_.p(a,2),_.p(a,1),_.p(a,3),_.p(a,6));e=sjg(qjg(rjg(new n1,_.p(a,2)),""),e);var h=new tjg;f=_.w(h,1,f);c=khg(c);c=_.w(f,4,c);e=_.w(c,3,e);a=_.t(e,5,_.p(a,4));b=_.t(a,2,b);return _.w(b,6,d)};
var Cng=function(a,b){this.O=a;this.V=b;this.done=!1};Cng.prototype.H=function(a){var b=this,c,d,e,f,h,k,l;return _.Cg(function(n){if(1==n.H){if(b.done)throw Error("Oq");c=(new DataView(a.buffer)).getUint32(0,!1);d=a.subarray(4,4+c);e=_.Oh(d,Yig);f=a.length-d.length-4;h=a.subarray(4+c,a.length);return _.vg(n,Dng(b.O,e,f,b.V),2)}if(3!=n.H){k=n.O;if(h.length!==f)throw Error("Pq");return _.vg(n,k.H(h),3)}l=n.O;b.done=!0;return n.return(l)})};
var Dng=function(a,b,c,d){var e,f,h;return _.Cg(function(k){e=rjg(qjg(new n1,"CSE Demo"),123);var l=new ihg,n=new c1;f=_.nh(l,1,jhg,n);l=new tjg;l=_.w(l,3,e);l=_.w(l,4,f);l=_.t(l,5,a);l=_.t(l,2,c);l=_.w(l,1,b);h=_.w(l,6,d);return k.return(rng(fng(new cjg),h))})};
var Eng=function(a){this.W=a};Eng.prototype.V=function(){throw Error("he");};Eng.prototype.O=function(){throw Error("he");};
Eng.prototype.H=function(a){var b=this,c,d,e,f,h;return _.Cg(function(k){if(1==k.H){var l=b.W;var n=rjg(qjg(new n1,"CSE Demo"),123);var q=new ihg;var r=new c1;q=_.nh(q,1,jhg,r);r=new wjg;n=_.w(r,1,n);n=_.w(n,2,q);l=_.t(n,3,l);l=_.t(l,4,1);l=nng(fng(new cjg),l);return _.vg(k,l,2)}if(3!=k.H)return c=k.O,d=_.Ph(c.V(),Yig),e=new Uint8Array(4),(new DataView(e.buffer)).setUint32(0,d.length,!1),_.vg(k,c.H(a),3);f=k.O;h=new Uint8Array(4+d.length+f.length);h.set(e,0);h.set(d,4);h.set(f,4+d.length);return k.return(h)})};
var Gng=function(a,b){if(a instanceof _.Rd)return a;if(a instanceof _.Qd)return new _.Rd("Dataservice error",a);if(a instanceof i1){var c=Fng[a.H]||1,d=_.sL(_.yL(_.SPa(void 0,void 0,a),2),c);a instanceof t1?_.t(d,24,a.V):230<=c&&260>c&&_.t(d,25,b);return new _.Rd("CSE library error",d)}return new _.Rd("Generic error",void 0,a instanceof Error?a:void 0)},Ing=function(a){return Hng[a.Kg.Mx()]||0},w1={},Fng=(w1[9]=200,w1[10]=201,w1[11]=202,w1[12]=203,w1[13]=204,w1[14]=205,w1[15]=206,w1[16]=207,w1[18]=
208,w1[19]=209,w1[20]=210,w1[25]=211,w1[31]=212,w1[32]=213,w1[2]=230,w1[3]=231,w1[4]=232,w1[5]=233,w1[28]=234,w1[29]=235,w1[30]=236,w1[6]=260,w1[7]=261,w1[8]=262,w1[1]=290,w1[17]=291,w1),x1={},Hng=(x1[200]=200,x1[201]=201,x1[202]=202,x1[203]=203,x1[204]=204,x1[205]=205,x1[206]=206,x1[207]=207,x1[208]=208,x1[209]=209,x1[210]=210,x1[211]=211,x1[212]=212,x1[213]=213,x1[230]=230,x1[231]=231,x1[232]=232,x1[233]=233,x1[234]=234,x1[235]=235,x1[236]=236,x1[260]=260,x1[261]=261,x1[262]=262,x1[290]=290,x1[291]=
291,x1);
var Jng=function(a,b,c,d,e){this.V=a;this.O=b;this.H=c;this.W=d;this.uc=e};
Jng.prototype.copy=function(a,b){var c=this,d,e,f,h,k,l,n,q,r,v,x,y,A,C,F,M,L;return _.Cg(function(Q){switch(Q.H){case 1:return _.vg(Q,Promise.all([Kng(c.V,a.getId(),_.p(a,9)),Ang(c.O,Fig(new _.RL,_.p(a,10)))]),2);case 2:return d=Q.O,e=_.m(d),f=e.next().value,h=e.next().value,k=f,l=h,n=Lig(k),q=phg(_.p(n,2),_.p(n,1),_.p(n,3),_.p(n,6)),r=sjg(qjg(rjg(new n1,_.p(n,2)),""),k.vj()),v=Djg(Cjg(Bjg(r),_.p(n,4)),q),x=sjg(qjg(rjg(new n1,_.p(l,2)),""),l.vj()),y=zjg(yjg(x),_.p(l,3)),A=Hjg(Gjg(Fjg(new Ejg,khg(b)),
v),y),_.vg(Q,vng(c.H.get(),A).catch(function(U){throw Gng(U,_.p(n,5));}),3);case 3:return C=Q.O,a=Gig(a.clone(),l.yc()),_.vg(Q,c.W,4);case 4:return F=Q.O,_.vg(Q,F.af(new _.TL(a,_.u(C,d1,1))),5);case 5:M=Q.O;if(!c.uc){Q.Ve(6);break}L=M.getItem();return _.vg(Q,c.uc.vp([_.wL(new _.vL,L.getId()).setItem(L)]),6);case 6:return Q.return(M)}})};
var Lng=function(a,b,c,d){this.V=a;this.W=b;this.hf=c;this.O=d;this.H=new Map},Nng=function(a,b,c,d,e){a.O.info("drive.ds.cse.FileDecrypter","Get buffered decrypter for "+b.getId()+"/"+_.sN(b));b=b.getId();var f=a.hf.H(106028);f&&(a.H.set(b,f),Eig(k1(f),d));return c.then(function(h){return e.then(function(k){return Mng(a,Lig(h),_.p(h,3),d,k,h.vj()).then(function(l){if(f){var n=Dig(k1(f),!0);_.t(n,4,_.p(h,3));f.cj()}return l})}).catch(function(k){k=Gng(k,_.p(Lig(h),5));if(f){var l=Dig(k1(f),!1);_.t(l,
2,Ing(k));f.cj()}throw k;})})},Ong=function(a,b,c,d){var e=a.hf.H(106014);if(e){var f=a.H.get(b.getId());f&&_.$Kc(e,f)}return c.then(function(h){a.O.info("drive.ds.cse.FileDecrypter","Decrypt file "+b.getId()+"/"+(_.sN(b)+", size: {$fileBytes.size}"));return d.H(h).then(function(k){if(e){var l=Dig(k1(e),!0);_.t(l,4,h.byteLength);e.cj();a.H.delete(b.getId())}return k})}).catch(function(h){h=Gng(h,"");if(e){var k=Dig(k1(e),!1);_.t(k,2,Ing(h));e.cj();a.H.delete(b.getId())}throw h;})},Mng=function(a,
b,c,d,e,f){return _.HM(a.V)?(b=Bng(b,c,d,e,f),rng(a.W.get(),b)):Promise.resolve(new Cng(_.p(b,4),e))};
var Png=function(a,b){this.H=a;this.hf=b},hlg=function(a,b,c){var d;return _.Cg(function(e){return 1==e.H?(d=a.hf.H(106011),_.vg(e,ghg(b.Kd(),c),2)):e.return(a.H.then(function(f){return f.af(b)}).then(function(f){var h=f.H;Qng(c,d,!0,h.length,f.retryCount);return h},function(f){Qng(c,d,!1,0,_.AL(f).Aaa()||0);throw f;}))})},Qng=function(a,b,c,d,e){null!=b&&a.then(function(f){var h=_.u(_.oN(b),yig,10);if(!h){h=new yig;var k=_.oN(b);_.w(k,10,h)}k=_.t(h,1,c);f=_.t(k,5,_.p(f,3));f=_.t(f,4,d);_.t(f,6,e);
c||_.t(h,2,0);b.cj()})};
var Rng=function(a){_.uk.call(this);var b=this;this.requestId=a;this.H=this.O=this.item=null;this.exa=new Promise(function(c,d){b.O=c;b.H=d})};_.K(Rng,_.uk);Rng.prototype.Hj=function(){return this.requestId};Rng.prototype.getItem=function(){return this.item};Rng.prototype.setItem=function(a){this.item=a};var Sng=function(a,b,c,d){a.O&&a.H&&a.dispatchEvent(new $ig(a.requestId,b,c,d));5===b&&a.item&&a.O?(a.O((new _.XA).setItem(a.item)),a.O=null):a.H&&d&&(6===b||3===b||0===b)&&(a.H(d),a.H=null)};
var Tng=function(a,b,c,d,e){this.H=a;this.ka=b;this.ha=c;this.hf=d;this.W=e;this.V=new Map;this.O=new Map},Vng=function(a,b,c,d,e){a.W.info("drive.ds.cse.FileEncrypter","Setup encrypted '"+b.getTitle()+"'");var f;return Ang(a.ka,b).then(function(h){Sng(c,1);Fig(b,h.yc());_.t(b,25,_.p(h,2));_.t(b,32,_.p(h,5));_.t(b,33,h.vj());_.t(b,24,_.p(h,3));f=_.HM(a.H)?b.yc():"demoId";var k=a.hf.H(106029);k&&(a.O.set(f,k),Big(Hig(k),d));return Ung(a,h,d,e).then(function(l){a.V.set(f,l);k&&(Aig(Hig(k),!0),k.cj());
return l}).catch(function(l){l=Gng(l,_.p(h,5));Sng(c,3,void 0,l);if(k){var n=Aig(Hig(k),!1);_.t(n,2,Ing(l));k.cj();a.O.delete(f)}throw l;})})},Wng=function(a,b,c,d,e,f){a.W.info("drive.ds.cse.FileEncrypter","Encrypt next '"+b.getTitle()+"', blob size: "+(c.size+", hasMore: "+f));var h=_.HM(a.H)?b.yc():"demoId",k=a.hf.H(106013);k&&(b=a.O.get(h))&&_.$Kc(k,b);return(new Response(c)).arrayBuffer().then(function(l){return(f?e.O(new Uint8Array(l)):e.H(new Uint8Array(l))).then(function(n){f||Sng(d,2);if(k){var q=
Aig(Hig(k),!0);_.t(q,4,l.byteLength);k.cj()}return n})}).catch(function(l){l=Gng(l,"");Sng(d,3,void 0,l);if(k){var n=Aig(Hig(k),!1);_.t(n,2,Ing(l));k.cj();a.O.delete(h)}throw l;})},Ung=function(a,b,c,d){if(_.HM(a.H)){var e=sjg(qjg(rjg(new n1,_.p(b,2)),""),b.vj());var f=new wjg;c=khg(c);f=_.w(f,2,c);e=_.w(f,1,e);b=_.t(e,3,_.p(b,3));d=_.t(b,4,d);return nng(a.ha.get(),d)}return Promise.resolve(new Eng(_.p(b,3)))};
Tng.prototype.getMetadata=function(a){if(_.HM(this.H))return(a=a&&this.V.get(a))?a.V():void 0};
var Xng=function(a,b,c){_.P.call(this);this.W=a;this.ha=b;this.H=c;this.V=new Map;this.O=new Map};_.K(Xng,_.P);
var Yng=function(a,b){var c=_.sN(b),d=_.u(b,l1,5);if(c&&d){var e=hhg(b.getId(),c);!a.O.get(e)&&c===_.p(d,4)&&_.dh(d,1)&&_.dh(d,2)&&_.dh(d,3)&&_.eh(d,5)&&(a.H.info("drive.ds.cse.FileMetadataCache","Caching prefetched FileMetadata for "+(b.getId()+"/"+c)),a.O.set(e,d))}},Kng=function(a,b,c){var d,e,f,h,k,l,n,q,r,v,x,y,A,C,F,M,L;return _.Cg(function(Q){if(1==Q.H)return _.HM(a.ha)?Q.Ve(2):_.vg(Q,Promise.all([Zng(a,b),iig()]),3);if(2!=Q.H){d=Q.O;e=_.m(d);f=e.next().value;h=e.next().value;k=f;l=h;n=k.getTitle()||
"";q=k.getMimeType()||"";r=_.p(k,14)||-1;v=k.vj()||"";c||(c=_.p(k,78)||"");var U=Q.return,Y=Kig(Jig(Iig((new l1).setTitle(n),q),r),c);var ra=new _.jMc;ra=_.t(ra,4,l);return U.call(Q,Nig(Mig(Y,ra),v))}x=a.getKey(b,c);if(c){y=a.O.get(x);if((F=(null==(A=y)?void 0:null==(C=Lig(A))?void 0:_.p(C,4))||null)&&!yng(F))return a.H.info("drive.ds.cse.FileMetadataCache","Using cached FileMetadata for "+x),Q.return(Promise.resolve(y));if(M=a.V.get(x))return a.H.info("drive.ds.cse.FileMetadataCache","Waiting on FileMetadata for "+
x),Q.return(M)}L=new _.Mq;$ng(a,L,b,c).catch(L.reject);return Q.return(L.promise)})},$ng=function(a,b,c,d){var e=a.getKey(c,d);a.H.info("drive.ds.cse.FileMetadataCache","Fetching FileMetadata for "+c+"/"+d);e&&a.V.set(e,b.promise);Zng(a,c).then(function(f){var h=f.vj()||"",k=_.p(f,78)||"";if(d&&d!==k)return aog(a,c,d).then(function(r){var v=_.p(r,7)||"",x=r.getMimeType()||"",y=_.p(r,8)||-1;r=_.u(r,_.jMc,10);return Nig(Mig(Kig(Jig(Iig((new l1).setTitle(v),x),y),d),r),h)});var l=f.getTitle()||"",n=
f.getMimeType()||"",q=_.p(f,14)||-1;f=_.u(_.u(f,_.IM,138),_.jMc,2);return Nig(Mig(Kig(Jig(Iig((new l1).setTitle(l),n),q),k),f),h)}).then(function(f){e&&a.V.delete(e);a.O.set(a.getKey(c,_.p(f,4)),f);b.resolve(f)},function(f){e&&a.V.delete(e);b.reject(f)});return b.promise},Zng=function(a,b){return a.W.then(function(c){var d=_.sK(_.rK(new _.pK,[b]),_.pg(new _.og,1488));d=_.YOc(_.ZOc(new _.cM,d),0);return c.af(d).then(function(e){return e.Xc().Dd()[0]})})},aog=function(a,b,c){return a.W.then(function(d){return d.af(new _.aSc(b,
c))})};Xng.prototype.getKey=function(a,b){return b?a+"|"+b:""};
var bog=function(a,b){this.H=a;this.O=b};
var cog=function(a,b,c){this.W=a;this.hf=b;this.O=c;this.V=new Map;this.H=new Map},dog=function(a,b,c,d,e){var f,h;return _.Cg(function(k){if(1==k.H)return a.O.info("drive.ds.cse.RangeDecrypter","Get range decrypter for "+b.getId()+"/"+_.sN(b)),(f=a.hf.H(106028))&&Eig(k1(f),d),_.vg(k,ghg(b,c),2);h=hhg(b.getId(),_.sN(b));return k.return(c.then(function(l){return e.then(function(n){var q=Bng(Lig(l),_.p(l,3),d,n,l.vj()),r=q.Ec();if(n=a.V.get(r))return n;n=new Promise(function(v,x){sng(a.W.get(),q).then(function(y){if(f){a.H.set(h,
f);var A=Dig(k1(f),!0),C=y.ha();_.t(A,4,C);f.cj()}v(y)},x)});a.V.set(r,n);setTimeout(function(){return void a.V.delete(r)},18E5);return n}).catch(function(n){n=Gng(n,_.p(Lig(l),5));if(f){var q=Dig(k1(f),!1);_.t(q,2,Ing(n));f.cj();a.H.delete(h)}throw n;})}))})},eog=function(a,b,c,d,e){a.O.info("drive.ds.cse.RangeDecrypter","Decrypt range "+b.getId()+"/"+_.sN(b)+", range: "+(e.start+"-"+e.end));var f=a.hf.H(106014);f&&(a=a.H.get(hhg(b.getId(),_.sN(b))))&&_.$Kc(f,a);return Elg(d,e,c).then(function(h){if(f){var k=
Dig(k1(f),!0);_.t(k,4,h.byteLength);f.cj()}return h}).catch(function(h){h=Gng(h,"");if(f){var k=Dig(k1(f),!1);_.t(k,2,Ing(h));f.cj()}throw h;})},gog=function(a,b,c,d,e,f,h,k){return fog(a,b,c,d,e,h,f,0,Math.ceil((e.end-e.start+1)/f),void 0,k)},fog=function(a,b,c,d,e,f,h,k,l,n,q){if(k>=l)return Promise.resolve();var r=q(h)||1,v=fhg(h*r,e,n);a.O.info("drive.ds.cse.RangeDecrypter","Decrypt chunk "+b.getId()+"/"+_.sN(b)+", curChunk: "+(k+", chunkSize: "+h+", chunks: ")+r);return eog(a,b,c,d,v).then(function(x){return new bog(v,
x)}).then(f).then(function(){return fog(a,b,c,d,e,f,h,k+r,l,v,q)})};
var hog=function(a,b,c,d){this.clientId=a;this.requestId=b;this.port=c;this.H=d;this.state=0;this.iframe=null};hog.prototype.getState=function(){return this.state};hog.prototype.setActive=function(){this.state=1;this.H();this.H=null};hog.prototype.write=function(a){var b=this.clientId,c=this.requestId;var d=a.H;a=a.O;b=qhg(rhg(8),b);c=_.t(b,3,c);b=new elg;b=_.t(b,1,d.start);d=_.t(b,2,d.end);d=_.t(d,3,a);d=_.w(c,6,d).Ec();this.port.postMessage(d)};
hog.prototype.close=function(){var a=this;this.iframe&&setTimeout(function(){_.Dj(a.iframe);a.iframe=null},500);this.state=2};
var iog=function(a){this.isEnabled=void 0===a?!1:a;this.H=this.port=this.O=null;this.clientId=Sig();this.downloads=new Map;this.Qc=new _.mf;this.Qc.listen(_.vj(),"beforeunload",this.V.bind(this))};iog.prototype.fT=function(){return Sig()};iog.prototype.V=function(){var a=this;this.port&&(this.port.postMessage(thg(this.clientId)),setTimeout(function(){return void a.port.close()},250))};
iog.prototype.start=function(a,b,c,d){var e=this;if(this.downloads.has(a))throw new _.Rd("Request with this Id already exists: "+a);return jog(this).then(function(f){return f&&e.port?new Promise(function(h){e.downloads.set(a,new hog(e.clientId,a,e.port,h));h=e.clientId;h=qhg(rhg(3),h);h=_.t(h,3,a);var k=new dlg;k=_.t(k,2,d);k=_.t(k,3,c);k=_.t(k,1,b);h=_.w(h,5,k).Ec();e.port.postMessage(h);kog(e)}):Promise.resolve()})};iog.prototype.Cja=function(a,b){(a=log(this,a))&&a.write(b)};
var mog=function(a,b){var c=log(a,b);c&&(c.close(),a.downloads.delete(b),null!==a.H&&0===a.downloads.size&&(clearInterval(a.H),a.H=null))},log=function(a,b){if(!a.downloads.has(b))throw new _.Rd("No download with this request Id exists: "+b);return a.downloads.get(b)},jog=function(a){if(!a.isEnabled)return Promise.resolve(null);if(!a.O){var b=_.zja(),c=b?b.serviceWorker:null;if(!c)return Promise.resolve(null);a.O=c.getRegistration("/decrypted/download/").then(function(d){return d&&d.scope.includes("/decrypted/download/")?
d:c.register("/file/cse/serviceworker.js",{scope:"/decrypted/download/"})}).then(function(d){return d?new Promise(function(e){if(d.active)e(d.active);else{var f=d.installing||d.waiting;f||e(null);f.addEventListener("statechange",function(){"activated"===f.state&&e(d.active)})}}):Promise.resolve(null)}).then(function(d){if(d){var e=new MessageChannel;a.port=e.port1;a.port.onmessage=function(f){var h=window.location.origin||window.location.protocol+"//"+window.location.host;if(!f.origin||f.origin===
h)if(h=_.Bh(flg,f.data),_.dh(h,1)&&_.dh(h,3))switch(_.Hd(h,1,0)){case 6:f=h.Hj();(f=log(a,f))&&f.setActive();break;case 7:if(_.dh(h,4)&&(f=h.Hj(),h=_.I(h,4),f=log(a,f))){if(!(_.ba.HTMLIFrameElement&&"sandbox"in _.ba.HTMLIFrameElement.prototype))throw Error("oa");var k={};k.src=h?_.Lb(_.Ob(h)):null;k.srcdoc=null;k.sandbox="";h=_.ema(k,{},{"aria-hidden":"true",style:{height:"0",left:"0",position:"absolute",top:"0",width:"0"}});h=_.bma("iframe",h);f.iframe=_.yj(document,h);f.iframe&&(f.iframe.sandbox.add("allow-scripts"),
f.iframe.sandbox.add("allow-downloads"),f.iframe.sandbox.add("allow-same-origin"),document.body.appendChild(f.iframe))}break;case 4:case 5:break;case 0:mog(a,h.Hj());break;case 2:mog(a,h.Hj());if(h.Xn())throw new _.Rd(h.getError());break;case 1:mog(a,h.Hj());break;default:throw new _.Rd("Invalid message type received from SW: "+_.Hd(h,1,0));}else throw new _.Rd("Malformed message received from SW: "+h);};d.postMessage(shg(a.clientId),[e.port2])}return d}).catch(function(){return Promise.resolve(null)})}return a.O};
iog.prototype.Pv=function(){return this.isEnabled&&!_.ch.Ly?jog(this).then(function(a){return!!a}):Promise.resolve(!1)};var kog=function(a){a.port&&null===a.H&&0<a.downloads.size&&jog(a).then(function(b){b&&(a.H=setInterval(function(){var c=rhg(11).Ec();a.port.postMessage(c)},1E4))})};
var nog=function(){Rng.call(this,_.bf());var a=this;this.V=this.W=null;this.Qc=new _.mf(this);this.Ia(this.Qc);this.Zyb=new Promise(function(b,c){a.W=b;a.V=c})};_.K(nog,Rng);var oog=function(a,b){a.Qc.listen(b,["tb","Ue"],function(c){var d=b.getItem();!a.getItem()&&d&&a.setItem(d);a.dispatchEvent(c);a.W&&d&&(c=_.oNc(new _.XA,d.getId()).setItem(d),a.W(c),a.W=null)});b.exa.catch(function(c){return void a.handleError(c)})};
nog.prototype.handleError=function(a){a instanceof Error&&this.V&&(this.V(a),this.V=null)};
var pog=function(a,b){this.H=a;this.O=b};
var qog=function(){};qog.prototype.apply=function(a,b){return b};
var rog=function(){};rog.prototype.apply=function(){};
var sog=function(){};sog.prototype.translate=function(a){return a};
var tog=function(){};tog.prototype.validate=function(){return null};
var uog=function(a,b,c,d,e,f,h,k){var l=_.Vj(),n=new _.NOc(a);b=new _.KN(a,b,new _.tPc(a),k);var q=new _.$Rc(a,d),r=new _.SWa("https://ssl.gstatic.com/docs/common/cleardot.gif",void 0,_.SM(a),void 0,_.BL()?new _.LNc:void 0);f=new _.xN(f,r,l.promise,d,k);c=Zig(a,new _.mRc(n,c,b,q,e,null,f),d,k,c,l.promise,f);l.resolve(new _.JQc(new tog,new sog,new _.nRc,c,new _.IPc(function(){return!1},function(){}),new qog,new rog,a,h,k));return l.promise};
var vog=function(a,b,c,d,e){this.ka=a;this.ta=b;this.Ba=c;this.ha=d;this.Ca=e;this.V=this.W=this.H=0;this.O=null};vog.prototype.na=function(a,b){var c=this;if(this.W===a&&this.V===b&&this.O)return Promise.resolve(new Blob([this.O]));if(this.W===a&&b<this.V)return Promise.resolve(new Blob([]));var d=this.H-a,e=a+d,f=b-d;return Wng(this.ka,this.Ba,this.ha.slice(e,e+f),this.Ca,this.ta,a+b<this.ha.size).then(function(h){c.H+=f;h&&(c.W=a,c.V=b,c.O=h);return Promise.resolve(new Blob([h]))})};
var wog=function(a,b,c,d,e,f,h,k){_.LN.call(this,a,b,c,d,e,f,k);this.uc=h;this.hf=null;this.H={}};_.K(wog,_.LN);
var xog=function(a,b){if(a.H[b])throw new _.Rd("FileUploadTracker already exists for this request.");var c=new Rng(b);return a.H[b]=c},Bog=function(a,b,c,d,e){var f=b.Hj();yog(a,f,4);return a.upload(b,c,d,e).then(function(h){return zog(a,f,h)},function(h){return Aog(a,f,h)})},Cog=function(a,b){var c=b.Hj();yog(a,c,4);return Promise.all(a.retry([c])).then(function(d){return zog(a,c,d[0])},function(d){return Aog(a,c,d)})},zog=function(a,b,c){if(!b)throw new _.Rd("Request Id is required.");var d=c.getItem();
Dog(a,b,d);d=a.uc?a.uc.vp([_.wL(new _.vL,_.Dl(d)).setItem(d)]):Promise.resolve();return _.Sj(d.then(function(){return yog(a,b,5,c)}))},Aog=function(a,b,c){if(b)return yog(a,b,6,void 0,_.me(c)),_.Sj();throw new _.Rd("Request Id is required.");},yog=function(a,b,c,d,e){(a=a.H[b])&&Sng(a,c,d,e)};
wog.prototype.na=function(a,b){var c=this.Kd(a);a=this.H[a];if(c&&a)if(c&&c.request){var d=0;if(c.file){var e=c.request&&c.request.vB();e&&(d=_.p(e,1));0===d&&(d=c.file.size)}a.dispatchEvent(new _.rPc(a.requestId,b,d))}else throw new _.Rd("Invalid request.");};wog.prototype.eT=function(){throw new _.Rd("Creating bug reports not supported.");};var Dog=function(a,b,c){var d=a.H[b];d&&(d.setItem(c),yog(a,b,7))};
var dhg=_.ii(""),Eog=function(){this.port=this.iframe=null;this.H=[]};Eog.prototype.load=function(){var a=this,b=Fog();this.iframe=kig(b);Gog().then(function(){a.iframe&&document.body.appendChild(a.iframe)});return jig(this.iframe,b).then(function(c){for(a.port=c.ports[0];0<a.H.length;)c=a.H.shift(),a.port.postMessage(c.data,c.e4b)})};
Eog.prototype.exec=function(a,b){var c=this;return new Promise(function(d,e){var f=new MessageChannel;f.port1.onmessage=function(r){f.port1.onmessage=null;r=r.data;null!=r.error?e(new EvalError(r.error)):d(r.result)};for(var h=[],k=[],l=[],n=_.m(null!=b?b:[]),q=n.next();!q.done;q=n.next())q=q.value,h.push(q.name),k.push(q.value),q.transfer&&l.push(q.value);h={code:a,paramNames:h,values:k};c.port?c.port.postMessage(h,[f.port2].concat(_.Oc(l))):c.H.push({data:h,e4b:[f.port2].concat(_.Oc(l))})})};
Eog.prototype.dispose=function(){null!=this.iframe&&(this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)};var Fog=function(){var a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},Gog=function(){return new Promise(function(a){"loading"!=document.readyState?a():_.pk(document,"DOMContentLoaded",function(){a()})})};
var Hog,Iog=function(){this.sandbox=new Eog};Iog.download=function(a,b,c){c=void 0===c?"":c;return _.Cg(function(d){Hog||(Hog=new Iog,Hog.init());return _.vg(d,Hog.download(a,b,c),0)})};Iog.prototype.init=function(){return this.sandbox.load()};
Iog.prototype.download=function(a,b,c){a=a instanceof Blob?a:new Blob([a],{type:void 0===c?"":c});if(navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(a,b),lig();if(!_.ia()||0<=_.Pg(_.yaa(),16)?0:_.oaa()||!(!_.ea("iPad")&&!_.ea("iPhone")||_.paa()||_.oaa()||_.ea("Coast")||_.naa())&&_.ea("AppleWebKit")){var d=new FileReader;d.onload=function(){var e=_.xj("A"),f=_.yc(String(d.result));e.href=_.jc(f);e.download=b;e.click()};d.readAsDataURL(a);return lig()}return this.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',
[{name:"blob",value:a,transfer:!1},{name:"filename",value:b,transfer:!1}]).then(function(){return lig()})};Iog.prototype.dispose=function(){this.sandbox.dispose()};_.ec("SafeDownloader",Iog);
var y1=function(a,b,c){var d=this;this.Ja=new _.FPc;this.H=new _.zNc;this.yb=a=_.VMc(a.clone(),[].concat(_.Oc(new Set(_.ed(a,27).concat(Jog)))));this.Fg=new _.bOc(a);this.Ha=new _.bPc(a,null,this.Fg);var e=new _.kSc,f=new _.kOc(_.SM(a)?3:1),h=_.MOc(this.yb,new _.rOc(_.SM(a),!0),f,this.H,Promise.resolve(),7);this.ka=uog(this.yb,this.Fg,this.Ja,this.H,this.Ha,f,e,h);e=new _.sSc;this.O=new wog(a,this.Ha,this.Ja,this.ka,this.H,e,c,h);f=_.u(this.yb,_.hMc,2);this.W=new wng(a,this.H);b&&this.W.get();this.Fa=
new zng(this.ka,f,this.H,e);this.V=new Xng(this.ka,f,this.H);this.na=new Tng(f,this.Fa,this.W,h,this.H);this.Ua=new Lng(f,this.W,h,this.H);this.Ca=new cog(this.W,h,this.H);this.Ba=new Png(this.ka,h);this.ta=new iog(_.J(f,7,!1));this.Pa=new Jng(this.V,this.Fa,this.W,this.ka,c);_.Jg("drive.DebugUtil.printCseLogs",function(){window.console.log(_.BNc(d.H))});h.O(106E3)};
y1.prototype.Mca=function(a,b,c,d){var e=this;c=void 0===c?!1:c;d=void 0===d?1:d;this.H.info("drive.ds.FileServiceImpl","Encrypted upload of '"+a.getTitle()+"', oidc popup: "+c);var f=a.Hj();f||(f=this.O.fT(),_.t(a,9,f));!_.p(a,26)&&b instanceof File&&b.lastModified&&_.t(a,26,b.lastModified);var h=xog(this.O,f);Vng(this.na,a,h,c,d).then(function(k){var l=a.getTitle()||"";l=new File([b],l,{type:b.type});k=new vog(e.na,k,a,b,h);return Bog(e.O,a,l,e.na.getMetadata(a.yc()),k.na.bind(k))},function(k){return void Sng(h,
0,void 0,_.me(k))}).finally(function(){var k=e.na,l=a.yc();_.HM(k.H)||(l="demoId");l&&k.V.delete(l);k=a.Hj();delete e.O.H[k]});return h};y1.prototype.upload=function(a,b){var c=this;this.H.info("drive.ds.FileServiceImpl","Upload of "+a.getTitle());var d=a.Hj();d||(d=this.O.fT(),_.t(a,9,d));var e=xog(this.O,d),f=null;b&&(f=b instanceof File?b:new File([b],a.getTitle()||""));Promise.resolve(Bog(this.O,a,f)).finally(function(){delete c.O.H[d]});return e};
y1.prototype.AZb=function(a){var b=this,c=xog(this.O,a);Cog(this.O,c).finally(function(){delete b.O.H[a]});return c};var Kog=function(a,b){return ung(a.W.get(),khg(b),_.TK(a.yb).getEmail())};y1.prototype.ha=function(){var a=_.oPc[void 0];return tng(this.W.get(),a)};
y1.prototype.ybb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Range download/decrypt of "+a.getId()+"/"+(_.sN(a)+", range: undefined-undefined, oidc popup: ")+b);Yng(this.V,a);var c=this.Ca,d=Kng(this.V,a.getId(),_.sN(a)),e=new glg(a,this.Ba,d),f=Kog(this,b),h=dog(c,a,d,b||!1,f);b=new ReadableStream({start:function(k){return h.then(function(l){var n=new _.CT(0,l.ha()-1);return eog(c,a,e,l,n)}).then(function(l){k.enqueue(l);k.close()})}});return new pog(b,d.then(function(k){return _.p(k,
4)}))};
var Log=function(a,b,c){c=void 0===c?!1:c;a.H.info("drive.ds.FileServiceImpl","Streaming download/decrypt of "+b.getId()+"/"+_.sN(b));Yng(a.V,b);var d=Kng(a.V,b.getId(),_.sN(b)),e=Kog(a,c);c=dog(a.Ca,b,d,c||!1,e);var f=new glg(b,a.Ba,d);return Promise.all([d,c]).then(function(h){var k=h[0],l=h[1],n=a.ta.fT();h=l.ha();var q=new _.CT(0,h-1),r=_.p(Lig(k),3),v=hng(_.oPc[r]);r=Math.ceil((q.end-q.start+1)/v);return a.ta.start(n,k.getTitle(),r,h).then(function(){return gog(a.Ca,b,f,l,q,v,function(x){a.ta.Cja(n,x);
return Promise.resolve()}.bind(a),function(){return 1}).then(function(){return Promise.resolve()})})})};y1.prototype.w2b=function(a){this.H.info("drive.ds.FileServiceImpl","Streaming download of "+a.getId()+"/"+_.sN(a));var b=this.ka;return new ReadableStream({start:function(c){return new Promise(function(d,e){b.then(function(f){return f.af(Oig(new _.oM,a))}).then(function(f){c.enqueue(f.H);c.close()}).then(d,e)})},pull:function(){},cancel:function(){}})};
y1.prototype.lxb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Browser download/decrypt of "+a.getId()+"/"+(_.sN(a)+", oidc popup: ")+b);Yng(this.V,a);return this.ta.Pv().then(function(d){if(d)return Log(c,a,b);var e=c.Ua,f=Kog(c,b);d=Kng(c.V,a.getId(),_.sN(a));var h=hlg(c.Ba,Oig(new _.oM,a),d);f=Nng(e,a,d,b,f).then(function(k){return Ong(e,a,h,k)});return Promise.all([f,d]).then(function(k){var l=_.m(k);k=l.next().value;l=l.next().value;Iog.download(new Blob([k]),
l.getTitle(),_.Tc(l.getMimeType()))})})};
y1.prototype.nCb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy of "+a.getId()+"/"+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);var d=new nog;try{var e=a.getId(),f=_.t(_.UOc((new _.rN).Jb(e),_.p(a,9)),6,!0),h=this.ybb(f,b),k=h.H.getReader();k.closed.catch(function(n){return d.handleError(n)});var l=Mog(k);Promise.all([l,h.O]).then(function(n){n=_.m(n);var q=n.next().value;n=n.next().value;return Kng(c.V,e,n).then(function(r){var v=
r.getMimeType();r=_.p(Lig(r),3);r=_.oPc[r];v=_.UM(_.TM(new _.RL,v),_.ed(a,3)).setTitle(a.getTitle());v=_.t(v,12,_.p(a,10));v=_.t(v,34,_.p(a,11));r=c.Mca(v,new Blob(q),b,r);oog(d,r)})}).catch(function(n){d.handleError(n)})}catch(n){d.handleError(n)}return d};y1.prototype.oCb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy via rewrap of "+(a.getId()+"/")+(_.p(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);return this.Pa.copy(a,b)};
var Mog=function(a){var b=[],c=function(){return a.read().then(function(d){var e=d.value;if(!d.done){if(!e)throw Error("Ic");b.push(e);return c()}})};return c().then(function(){return b})};y1.prototype.Jda=function(){return this.O};var Jog=[194,193,187,13,72,21,3,210,2];
_.Kq({id:_.$$f,callback:function(a){return new y1(a.get(_.Qe),_.J(a.get(_.PZa),1,!1),a.get(_.Lk))}});

_.D();

}catch(e){_._DumpException(e)}
VB ¼¦ {